Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id F1502295ED8
	for <lists+linux-kernel@lfdr.de>; Thu, 22 Oct 2020 14:43:56 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2898695AbgJVMnj (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Thu, 22 Oct 2020 08:43:39 -0400
Received: from mailgw01.mediatek.com ([210.61.82.183]:44187 "EHLO
        mailgw01.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S2898646AbgJVMnZ (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 22 Oct 2020 08:43:25 -0400
X-UUID: 4281ecf2774d47b59904fc6e0470ea2a-20201022
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=KpqLEbOh0Tymb8zkWFePD865cc6H0dKcRFiJ30+uyz0=;
        b=IDQZhOAOpYqPpm4p7AOe5KlKwyvKr2vMR62c58AHorO8P1zx4hK2BUiX/QlGbjY7VbzCqs8koru6ALZFxrVdmFmUUIblnfDd2SFFfEvu/4CL4vxcxW77aJwRCQXDo9JuFBNB2d5QZZMKPUbZ017S+9d6If1cZGXH7rgAvfCjuqE=;
X-UUID: 4281ecf2774d47b59904fc6e0470ea2a-20201022
Received: from mtkcas10.mediatek.inc [(172.21.101.39)] by mailgw01.mediatek.com
        (envelope-from <weiyi.lu@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.14 Build 0819 with TLSv1.2 ECDHE-RSA-AES256-SHA384 256/256)
        with ESMTP id 889231469; Thu, 22 Oct 2020 20:37:56 +0800
Received: from mtkcas10.mediatek.inc (172.21.101.39) by
 mtkmbs07n1.mediatek.inc (172.21.101.16) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Thu, 22 Oct 2020 20:37:55 +0800
Received: from mtksdccf07.mediatek.inc (172.21.84.99) by mtkcas10.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Thu, 22 Oct 2020 20:37:55 +0800
From:   Weiyi Lu <weiyi.lu@mediatek.com>
To:     Matthias Brugger <matthias.bgg@gmail.com>,
        Rob Herring <robh@kernel.org>, Stephen Boyd <sboyd@kernel.org>,
        Nicolas Boichat <drinkcat@chromium.org>
CC:     <linux-arm-kernel@lists.infradead.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>, <linux-clk@vger.kernel.org>,
        <srv_heupstream@mediatek.com>, Weiyi Lu <weiyi.lu@mediatek.com>
Subject: [PATCH v4 24/34] clk: mediatek: Add MT8192 imp i2c wrapper ws clock support
Date:   Thu, 22 Oct 2020 20:37:17 +0800
Message-ID: <1603370247-30437-25-git-send-email-weiyi.lu@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
In-Reply-To: <1603370247-30437-1-git-send-email-weiyi.lu@mediatek.com>
References: <1603370247-30437-1-git-send-email-weiyi.lu@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

QWRkIE1UODE5MiBpbXAgaTJjIHdyYXBwZXIgd3MgY2xvY2sgcHJvdmlkZXINCg0KU2lnbmVkLW9m
Zi1ieTogV2VpeWkgTHUgPHdlaXlpLmx1QG1lZGlhdGVrLmNvbT4NCi0tLQ0KIGRyaXZlcnMvY2xr
L21lZGlhdGVrL0tjb25maWcgICAgICAgICAgICAgICAgICAgICAgfCAgNiArKysNCiBkcml2ZXJz
L2Nsay9tZWRpYXRlay9NYWtlZmlsZSAgICAgICAgICAgICAgICAgICAgIHwgIDEgKw0KIGRyaXZl
cnMvY2xrL21lZGlhdGVrL2Nsay1tdDgxOTItaW1wX2lpY193cmFwX3dzLmMgfCA2MSArKysrKysr
KysrKysrKysrKysrKysrKw0KIDMgZmlsZXMgY2hhbmdlZCwgNjggaW5zZXJ0aW9ucygrKQ0KIGNy
ZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2Nsay9tZWRpYXRlay9jbGstbXQ4MTkyLWltcF9paWNf
d3JhcF93cy5jDQoNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2Nsay9tZWRpYXRlay9LY29uZmlnIGIv
ZHJpdmVycy9jbGsvbWVkaWF0ZWsvS2NvbmZpZw0KaW5kZXggOGE5ZDlmNi4uMDM3Zjc0ZjIgMTAw
NjQ0DQotLS0gYS9kcml2ZXJzL2Nsay9tZWRpYXRlay9LY29uZmlnDQorKysgYi9kcml2ZXJzL2Ns
ay9tZWRpYXRlay9LY29uZmlnDQpAQCAtNTIxLDYgKzUyMSwxMiBAQCBjb25maWcgQ09NTU9OX0NM
S19NVDgxOTJfSU1QX0lJQ19XUkFQX1cNCiAJaGVscA0KIAkgIFRoaXMgZHJpdmVyIHN1cHBvcnRz
IE1lZGlhVGVrIE1UODE5MiBpbXBfaWljX3dyYXBfdyBjbG9ja3MuDQogDQorY29uZmlnIENPTU1P
Tl9DTEtfTVQ4MTkyX0lNUF9JSUNfV1JBUF9XUw0KKwlib29sICJDbG9jayBkcml2ZXIgZm9yIE1l
ZGlhVGVrIE1UODE5MiBpbXBfaWljX3dyYXBfd3MiDQorCWRlcGVuZHMgb24gQ09NTU9OX0NMS19N
VDgxOTINCisJaGVscA0KKwkgIFRoaXMgZHJpdmVyIHN1cHBvcnRzIE1lZGlhVGVrIE1UODE5MiBp
bXBfaWljX3dyYXBfd3MgY2xvY2tzLg0KKw0KIGNvbmZpZyBDT01NT05fQ0xLX01UODUxNg0KIAli
b29sICJDbG9jayBkcml2ZXIgZm9yIE1lZGlhVGVrIE1UODUxNiINCiAJZGVwZW5kcyBvbiBBUkNI
X01FRElBVEVLIHx8IENPTVBJTEVfVEVTVA0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvY2xrL21lZGlh
dGVrL01ha2VmaWxlIGIvZHJpdmVycy9jbGsvbWVkaWF0ZWsvTWFrZWZpbGUNCmluZGV4IDFkMzU5
OGEuLjRmYWE5YWQgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2Nsay9tZWRpYXRlay9NYWtlZmlsZQ0K
KysrIGIvZHJpdmVycy9jbGsvbWVkaWF0ZWsvTWFrZWZpbGUNCkBAIC03NCw1ICs3NCw2IEBAIG9i
ai0kKENPTkZJR19DT01NT05fQ0xLX01UODE5Ml9JTVBfSUlDX1dSQVBfRSkgKz0gY2xrLW10ODE5
Mi1pbXBfaWljX3dyYXBfZS5vDQogb2JqLSQoQ09ORklHX0NPTU1PTl9DTEtfTVQ4MTkyX0lNUF9J
SUNfV1JBUF9OKSArPSBjbGstbXQ4MTkyLWltcF9paWNfd3JhcF9uLm8NCiBvYmotJChDT05GSUdf
Q09NTU9OX0NMS19NVDgxOTJfSU1QX0lJQ19XUkFQX1MpICs9IGNsay1tdDgxOTItaW1wX2lpY193
cmFwX3Mubw0KIG9iai0kKENPTkZJR19DT01NT05fQ0xLX01UODE5Ml9JTVBfSUlDX1dSQVBfVykg
Kz0gY2xrLW10ODE5Mi1pbXBfaWljX3dyYXBfdy5vDQorb2JqLSQoQ09ORklHX0NPTU1PTl9DTEtf
TVQ4MTkyX0lNUF9JSUNfV1JBUF9XUykgKz0gY2xrLW10ODE5Mi1pbXBfaWljX3dyYXBfd3Mubw0K
IG9iai0kKENPTkZJR19DT01NT05fQ0xLX01UODUxNikgKz0gY2xrLW10ODUxNi5vDQogb2JqLSQo
Q09ORklHX0NPTU1PTl9DTEtfTVQ4NTE2X0FVRFNZUykgKz0gY2xrLW10ODUxNi1hdWQubw0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvY2xrL21lZGlhdGVrL2Nsay1tdDgxOTItaW1wX2lpY193cmFwX3dz
LmMgYi9kcml2ZXJzL2Nsay9tZWRpYXRlay9jbGstbXQ4MTkyLWltcF9paWNfd3JhcF93cy5jDQpu
ZXcgZmlsZSBtb2RlIDEwMDY0NA0KaW5kZXggMDAwMDAwMC4uZGFkYjMyNA0KLS0tIC9kZXYvbnVs
bA0KKysrIGIvZHJpdmVycy9jbGsvbWVkaWF0ZWsvY2xrLW10ODE5Mi1pbXBfaWljX3dyYXBfd3Mu
Yw0KQEAgLTAsMCArMSw2MSBAQA0KKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4w
LW9ubHkNCisvLw0KKy8vIENvcHlyaWdodCAoYykgMjAyMCBNZWRpYVRlayBJbmMuDQorLy8gQXV0
aG9yOiBXZWl5aSBMdSA8d2VpeWkubHVAbWVkaWF0ZWsuY29tPg0KKw0KKyNpbmNsdWRlIDxsaW51
eC9jbGstcHJvdmlkZXIuaD4NCisjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+DQor
DQorI2luY2x1ZGUgImNsay1tdGsuaCINCisjaW5jbHVkZSAiY2xrLWdhdGUuaCINCisNCisjaW5j
bHVkZSA8ZHQtYmluZGluZ3MvY2xvY2svbXQ4MTkyLWNsay5oPg0KKw0KK3N0YXRpYyBjb25zdCBz
dHJ1Y3QgbXRrX2dhdGVfcmVncyBpbXBfaWljX3dyYXBfd3NfY2dfcmVncyA9IHsNCisJLnNldF9v
ZnMgPSAweGUwOCwNCisJLmNscl9vZnMgPSAweGUwNCwNCisJLnN0YV9vZnMgPSAweGUwMCwNCit9
Ow0KKw0KKyNkZWZpbmUgR0FURV9JTVBfSUlDX1dSQVBfV1MoX2lkLCBfbmFtZSwgX3BhcmVudCwg
X3NoaWZ0KQkJCVwNCisJR0FURV9NVEtfRkxBR1MoX2lkLCBfbmFtZSwgX3BhcmVudCwgJmltcF9p
aWNfd3JhcF93c19jZ19yZWdzLCBfc2hpZnQsCVwNCisJCSZtdGtfY2xrX2dhdGVfb3BzX3NldGNs
ciwgQ0xLX09QU19QQVJFTlRfRU5BQkxFKQ0KKw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2dh
dGUgaW1wX2lpY193cmFwX3dzX2Nsa3NbXSA9IHsNCisJR0FURV9JTVBfSUlDX1dSQVBfV1MoQ0xL
X0lNUF9JSUNfV1JBUF9XU19JMkMxLCAiaW1wX2lpY193cmFwX3dzX2kyYzEiLCAiaW5mcmFfaTJj
MCIsIDApLA0KKwlHQVRFX0lNUF9JSUNfV1JBUF9XUyhDTEtfSU1QX0lJQ19XUkFQX1dTX0kyQzIs
ICJpbXBfaWljX3dyYXBfd3NfaTJjMiIsICJpbmZyYV9pMmMwIiwgMSksDQorCUdBVEVfSU1QX0lJ
Q19XUkFQX1dTKENMS19JTVBfSUlDX1dSQVBfV1NfSTJDNCwgImltcF9paWNfd3JhcF93c19pMmM0
IiwgImluZnJhX2kyYzAiLCAyKSwNCit9Ow0KKw0KK3N0YXRpYyBpbnQgY2xrX210ODE5Ml9pbXBf
aWljX3dyYXBfd3NfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikNCit7DQorCXN0
cnVjdCBjbGtfb25lY2VsbF9kYXRhICpjbGtfZGF0YTsNCisJc3RydWN0IGRldmljZV9ub2RlICpu
b2RlID0gcGRldi0+ZGV2Lm9mX25vZGU7DQorCWludCByOw0KKw0KKwljbGtfZGF0YSA9IG10a19h
bGxvY19jbGtfZGF0YShDTEtfSU1QX0lJQ19XUkFQX1dTX05SX0NMSyk7DQorCWlmICghY2xrX2Rh
dGEpDQorCQlyZXR1cm4gLUVOT01FTTsNCisNCisJciA9IG10a19jbGtfcmVnaXN0ZXJfZ2F0ZXMo
bm9kZSwgaW1wX2lpY193cmFwX3dzX2Nsa3MsIEFSUkFZX1NJWkUoaW1wX2lpY193cmFwX3dzX2Ns
a3MpLA0KKwkJCWNsa19kYXRhKTsNCisJaWYgKHIpDQorCQlyZXR1cm4gcjsNCisNCisJcmV0dXJu
IG9mX2Nsa19hZGRfcHJvdmlkZXIobm9kZSwgb2ZfY2xrX3NyY19vbmVjZWxsX2dldCwgY2xrX2Rh
dGEpOw0KK30NCisNCitzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCBvZl9tYXRjaF9j
bGtfbXQ4MTkyX2ltcF9paWNfd3JhcF93c1tdID0gew0KKwl7IC5jb21wYXRpYmxlID0gIm1lZGlh
dGVrLG10ODE5Mi1pbXBfaWljX3dyYXBfd3MiLCB9LA0KKwl7fQ0KK307DQorDQorc3RhdGljIHN0
cnVjdCBwbGF0Zm9ybV9kcml2ZXIgY2xrX210ODE5Ml9pbXBfaWljX3dyYXBfd3NfZHJ2ID0gew0K
KwkucHJvYmUgPSBjbGtfbXQ4MTkyX2ltcF9paWNfd3JhcF93c19wcm9iZSwNCisJLmRyaXZlciA9
IHsNCisJCS5uYW1lID0gImNsay1tdDgxOTItaW1wX2lpY193cmFwX3dzIiwNCisJCS5vZl9tYXRj
aF90YWJsZSA9IG9mX21hdGNoX2Nsa19tdDgxOTJfaW1wX2lpY193cmFwX3dzLA0KKwl9LA0KK307
DQorDQorYnVpbHRpbl9wbGF0Zm9ybV9kcml2ZXIoY2xrX210ODE5Ml9pbXBfaWljX3dyYXBfd3Nf
ZHJ2KTsNCi0tIA0KMS44LjEuMS5kaXJ0eQ0K

