Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 2A7D22AAEFD
	for <lists+linux-kernel@lfdr.de>; Mon,  9 Nov 2020 03:09:20 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1729077AbgKICJP (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Sun, 8 Nov 2020 21:09:15 -0500
Received: from mailgw02.mediatek.com ([210.61.82.184]:58255 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1727979AbgKICJN (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Sun, 8 Nov 2020 21:09:13 -0500
X-UUID: 745f3353444e4826af66feee7c1fd8e0-20201109
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=Qnv5Xb7VHtVK2S0G8qfgezSXXevML+BserTOFwpCMV4=;
        b=jjYfK3F2qRQu5HMLY5lDVKPhXE6aCpIi56JvAjO8nP2QISbcMejTsSE/YwlDu3fmxpYHaaYYNOcOOaRZCHPykHAQBjKGOIrcbDizDuKg+ityvhJxX5sIRxjtV5kkfU3GqY7yQ6JYPAO7OhKORPX7HmM8BM9vbo7UoNxVHEkcRng=;
X-UUID: 745f3353444e4826af66feee7c1fd8e0-20201109
Received: from mtkcas10.mediatek.inc [(172.21.101.39)] by mailgw02.mediatek.com
        (envelope-from <weiyi.lu@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.14 Build 0819 with TLSv1.2 ECDHE-RSA-AES256-SHA384 256/256)
        with ESMTP id 423690665; Mon, 09 Nov 2020 10:03:55 +0800
Received: from MTKCAS06.mediatek.inc (172.21.101.30) by
 mtkmbs07n2.mediatek.inc (172.21.101.141) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Mon, 9 Nov 2020 10:03:55 +0800
Received: from mtksdccf07.mediatek.inc (172.21.84.99) by MTKCAS06.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Mon, 9 Nov 2020 10:03:54 +0800
From:   Weiyi Lu <weiyi.lu@mediatek.com>
To:     Matthias Brugger <matthias.bgg@gmail.com>,
        Rob Herring <robh@kernel.org>, Stephen Boyd <sboyd@kernel.org>,
        Nicolas Boichat <drinkcat@chromium.org>
CC:     <linux-arm-kernel@lists.infradead.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>, <linux-clk@vger.kernel.org>,
        <srv_heupstream@mediatek.com>, Weiyi Lu <weiyi.lu@mediatek.com>,
        Yingjoe Chen <yingjoe.chen@mediatek.com>
Subject: [PATCH v5 18/24] clk: mediatek: Add MT8192 mmsys clock support
Date:   Mon, 9 Nov 2020 10:03:43 +0800
Message-ID: <1604887429-29445-19-git-send-email-weiyi.lu@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
In-Reply-To: <1604887429-29445-1-git-send-email-weiyi.lu@mediatek.com>
References: <1604887429-29445-1-git-send-email-weiyi.lu@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

QWRkIE1UODE5MiBtbXN5cyBjbG9jayBwcm92aWRlcg0KDQpTaWduZWQtb2ZmLWJ5OiBXZWl5aSBM
dSA8d2VpeWkubHVAbWVkaWF0ZWsuY29tPg0KLS0tDQogZHJpdmVycy9jbGsvbWVkaWF0ZWsvS2Nv
bmZpZyAgICAgICAgIHwgICA2ICsrDQogZHJpdmVycy9jbGsvbWVkaWF0ZWsvTWFrZWZpbGUgICAg
ICAgIHwgICAxICsNCiBkcml2ZXJzL2Nsay9tZWRpYXRlay9jbGstbXQ4MTkyLW1tLmMgfCAxMDgg
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysNCiAzIGZpbGVzIGNoYW5nZWQsIDEx
NSBpbnNlcnRpb25zKCspDQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvY2xrL21lZGlhdGVr
L2Nsay1tdDgxOTItbW0uYw0KDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvbWVkaWF0ZWsvS2Nv
bmZpZyBiL2RyaXZlcnMvY2xrL21lZGlhdGVrL0tjb25maWcNCmluZGV4IDNkYjg2NzAuLmJjOTI2
MTEgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2Nsay9tZWRpYXRlay9LY29uZmlnDQorKysgYi9kcml2
ZXJzL2Nsay9tZWRpYXRlay9LY29uZmlnDQpAQCAtNTM5LDYgKzUzOSwxMiBAQCBjb25maWcgQ09N
TU9OX0NMS19NVDgxOTJfTUZHQ0ZHDQogCWhlbHANCiAJICBUaGlzIGRyaXZlciBzdXBwb3J0cyBN
ZWRpYVRlayBNVDgxOTIgbWZnY2ZnIGNsb2Nrcy4NCiANCitjb25maWcgQ09NTU9OX0NMS19NVDgx
OTJfTU1TWVMNCisJYm9vbCAiQ2xvY2sgZHJpdmVyIGZvciBNZWRpYVRlayBNVDgxOTIgbW1zeXMi
DQorCWRlcGVuZHMgb24gQ09NTU9OX0NMS19NVDgxOTINCisJaGVscA0KKwkgIFRoaXMgZHJpdmVy
IHN1cHBvcnRzIE1lZGlhVGVrIE1UODE5MiBtbXN5cyBjbG9ja3MuDQorDQogY29uZmlnIENPTU1P
Tl9DTEtfTVQ4NTE2DQogCWJvb2wgIkNsb2NrIGRyaXZlciBmb3IgTWVkaWFUZWsgTVQ4NTE2Ig0K
IAlkZXBlbmRzIG9uIEFSQ0hfTUVESUFURUsgfHwgQ09NUElMRV9URVNUDQpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9jbGsvbWVkaWF0ZWsvTWFrZWZpbGUgYi9kcml2ZXJzL2Nsay9tZWRpYXRlay9NYWtl
ZmlsZQ0KaW5kZXggMDI0ODQxYS4uODM4YmIwMSAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvY2xrL21l
ZGlhdGVrL01ha2VmaWxlDQorKysgYi9kcml2ZXJzL2Nsay9tZWRpYXRlay9NYWtlZmlsZQ0KQEAg
LTc1LDUgKzc1LDYgQEAgb2JqLSQoQ09ORklHX0NPTU1PTl9DTEtfTVQ4MTkyX0lNUF9JSUNfV1JB
UCkgKz0gY2xrLW10ODE5Mi1pbXBfaWljX3dyYXAubw0KIG9iai0kKENPTkZJR19DT01NT05fQ0xL
X01UODE5Ml9JUEVTWVMpICs9IGNsay1tdDgxOTItaXBlLm8NCiBvYmotJChDT05GSUdfQ09NTU9O
X0NMS19NVDgxOTJfTURQU1lTKSArPSBjbGstbXQ4MTkyLW1kcC5vDQogb2JqLSQoQ09ORklHX0NP
TU1PTl9DTEtfTVQ4MTkyX01GR0NGRykgKz0gY2xrLW10ODE5Mi1tZmcubw0KK29iai0kKENPTkZJ
R19DT01NT05fQ0xLX01UODE5Ml9NTVNZUykgKz0gY2xrLW10ODE5Mi1tbS5vDQogb2JqLSQoQ09O
RklHX0NPTU1PTl9DTEtfTVQ4NTE2KSArPSBjbGstbXQ4NTE2Lm8NCiBvYmotJChDT05GSUdfQ09N
TU9OX0NMS19NVDg1MTZfQVVEU1lTKSArPSBjbGstbXQ4NTE2LWF1ZC5vDQpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9jbGsvbWVkaWF0ZWsvY2xrLW10ODE5Mi1tbS5jIGIvZHJpdmVycy9jbGsvbWVkaWF0
ZWsvY2xrLW10ODE5Mi1tbS5jDQpuZXcgZmlsZSBtb2RlIDEwMDY0NA0KaW5kZXggMDAwMDAwMC4u
ZGZkZmIyMQ0KLS0tIC9kZXYvbnVsbA0KKysrIGIvZHJpdmVycy9jbGsvbWVkaWF0ZWsvY2xrLW10
ODE5Mi1tbS5jDQpAQCAtMCwwICsxLDEwOCBAQA0KKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wLW9ubHkNCisvLw0KKy8vIENvcHlyaWdodCAoYykgMjAyMCBNZWRpYVRlayBJbmMu
DQorLy8gQXV0aG9yOiBXZWl5aSBMdSA8d2VpeWkubHVAbWVkaWF0ZWsuY29tPg0KKw0KKyNpbmNs
dWRlIDxsaW51eC9jbGstcHJvdmlkZXIuaD4NCisjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGV2
aWNlLmg+DQorDQorI2luY2x1ZGUgImNsay1tdGsuaCINCisjaW5jbHVkZSAiY2xrLWdhdGUuaCIN
CisNCisjaW5jbHVkZSA8ZHQtYmluZGluZ3MvY2xvY2svbXQ4MTkyLWNsay5oPg0KKw0KK3N0YXRp
YyBjb25zdCBzdHJ1Y3QgbXRrX2dhdGVfcmVncyBtbTBfY2dfcmVncyA9IHsNCisJLnNldF9vZnMg
PSAweDEwNCwNCisJLmNscl9vZnMgPSAweDEwOCwNCisJLnN0YV9vZnMgPSAweDEwMCwNCit9Ow0K
Kw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2dhdGVfcmVncyBtbTFfY2dfcmVncyA9IHsNCisJ
LnNldF9vZnMgPSAweDExNCwNCisJLmNscl9vZnMgPSAweDExOCwNCisJLnN0YV9vZnMgPSAweDEx
MCwNCit9Ow0KKw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2dhdGVfcmVncyBtbTJfY2dfcmVn
cyA9IHsNCisJLnNldF9vZnMgPSAweDFhNCwNCisJLmNscl9vZnMgPSAweDFhOCwNCisJLnN0YV9v
ZnMgPSAweDFhMCwNCit9Ow0KKw0KKyNkZWZpbmUgR0FURV9NTTAoX2lkLCBfbmFtZSwgX3BhcmVu
dCwgX3NoaWZ0KQlcDQorCUdBVEVfTVRLKF9pZCwgX25hbWUsIF9wYXJlbnQsICZtbTBfY2dfcmVn
cywgX3NoaWZ0LCAmbXRrX2Nsa19nYXRlX29wc19zZXRjbHIpDQorDQorI2RlZmluZSBHQVRFX01N
MShfaWQsIF9uYW1lLCBfcGFyZW50LCBfc2hpZnQpCVwNCisJR0FURV9NVEsoX2lkLCBfbmFtZSwg
X3BhcmVudCwgJm1tMV9jZ19yZWdzLCBfc2hpZnQsICZtdGtfY2xrX2dhdGVfb3BzX3NldGNscikN
CisNCisjZGVmaW5lIEdBVEVfTU0yKF9pZCwgX25hbWUsIF9wYXJlbnQsIF9zaGlmdCkJXA0KKwlH
QVRFX01USyhfaWQsIF9uYW1lLCBfcGFyZW50LCAmbW0yX2NnX3JlZ3MsIF9zaGlmdCwgJm10a19j
bGtfZ2F0ZV9vcHNfc2V0Y2xyKQ0KKw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2dhdGUgbW1f
Y2xrc1tdID0gew0KKwkvKiBNTTAgKi8NCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfTVVURVgwLCAi
bW1fZGlzcF9tdXRleDAiLCAiZGlzcF9zZWwiLCAwKSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1Bf
Q09ORklHLCAibW1fZGlzcF9jb25maWciLCAiZGlzcF9zZWwiLCAxKSwNCisJR0FURV9NTTAoQ0xL
X01NX0RJU1BfT1ZMMCwgIm1tX2Rpc3Bfb3ZsMCIsICJkaXNwX3NlbCIsIDIpLA0KKwlHQVRFX01N
MChDTEtfTU1fRElTUF9SRE1BMCwgIm1tX2Rpc3BfcmRtYTAiLCAiZGlzcF9zZWwiLCAzKSwNCisJ
R0FURV9NTTAoQ0xLX01NX0RJU1BfT1ZMMF8yTCwgIm1tX2Rpc3Bfb3ZsMF8ybCIsICJkaXNwX3Nl
bCIsIDQpLA0KKwlHQVRFX01NMChDTEtfTU1fRElTUF9XRE1BMCwgIm1tX2Rpc3Bfd2RtYTAiLCAi
ZGlzcF9zZWwiLCA1KSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfVUZCQ19XRE1BMCwgIm1tX2Rp
c3BfdWZiY193ZG1hMCIsICJkaXNwX3NlbCIsIDYpLA0KKwlHQVRFX01NMChDTEtfTU1fRElTUF9S
U1owLCAibW1fZGlzcF9yc3owIiwgImRpc3Bfc2VsIiwgNyksDQorCUdBVEVfTU0wKENMS19NTV9E
SVNQX0FBTDAsICJtbV9kaXNwX2FhbDAiLCAiZGlzcF9zZWwiLCA4KSwNCisJR0FURV9NTTAoQ0xL
X01NX0RJU1BfQ0NPUlIwLCAibW1fZGlzcF9jY29ycjAiLCAiZGlzcF9zZWwiLCA5KSwNCisJR0FU
RV9NTTAoQ0xLX01NX0RJU1BfRElUSEVSMCwgIm1tX2Rpc3BfZGl0aGVyMCIsICJkaXNwX3NlbCIs
IDEwKSwNCisJR0FURV9NTTAoQ0xLX01NX1NNSV9JTkZSQSwgIm1tX3NtaV9pbmZyYSIsICJkaXNw
X3NlbCIsIDExKSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfR0FNTUEwLCAibW1fZGlzcF9nYW1t
YTAiLCAiZGlzcF9zZWwiLCAxMiksDQorCUdBVEVfTU0wKENMS19NTV9ESVNQX1BPU1RNQVNLMCwg
Im1tX2Rpc3BfcG9zdG1hc2swIiwgImRpc3Bfc2VsIiwgMTMpLA0KKwlHQVRFX01NMChDTEtfTU1f
RElTUF9EU0NfV1JBUDAsICJtbV9kaXNwX2RzY193cmFwMCIsICJkaXNwX3NlbCIsIDE0KSwNCisJ
R0FURV9NTTAoQ0xLX01NX0RTSTAsICJtbV9kc2kwIiwgImRpc3Bfc2VsIiwgMTUpLA0KKwlHQVRF
X01NMChDTEtfTU1fRElTUF9DT0xPUjAsICJtbV9kaXNwX2NvbG9yMCIsICJkaXNwX3NlbCIsIDE2
KSwNCisJR0FURV9NTTAoQ0xLX01NX1NNSV9DT01NT04sICJtbV9zbWlfY29tbW9uIiwgImRpc3Bf
c2VsIiwgMTcpLA0KKwlHQVRFX01NMChDTEtfTU1fRElTUF9GQUtFX0VORzAsICJtbV9kaXNwX2Zh
a2VfZW5nMCIsICJkaXNwX3NlbCIsIDE4KSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfRkFLRV9F
TkcxLCAibW1fZGlzcF9mYWtlX2VuZzEiLCAiZGlzcF9zZWwiLCAxOSksDQorCUdBVEVfTU0wKENM
S19NTV9NRFBfVERTSFA0LCAibW1fbWRwX3Rkc2hwNCIsICJkaXNwX3NlbCIsIDIwKSwNCisJR0FU
RV9NTTAoQ0xLX01NX01EUF9SU1o0LCAibW1fbWRwX3JzejQiLCAiZGlzcF9zZWwiLCAyMSksDQor
CUdBVEVfTU0wKENMS19NTV9NRFBfQUFMNCwgIm1tX21kcF9hYWw0IiwgImRpc3Bfc2VsIiwgMjIp
LA0KKwlHQVRFX01NMChDTEtfTU1fTURQX0hEUjQsICJtbV9tZHBfaGRyNCIsICJkaXNwX3NlbCIs
IDIzKSwNCisJR0FURV9NTTAoQ0xLX01NX01EUF9SRE1BNCwgIm1tX21kcF9yZG1hNCIsICJkaXNw
X3NlbCIsIDI0KSwNCisJR0FURV9NTTAoQ0xLX01NX01EUF9DT0xPUjQsICJtbV9tZHBfY29sb3I0
IiwgImRpc3Bfc2VsIiwgMjUpLA0KKwlHQVRFX01NMChDTEtfTU1fRElTUF9ZMlIwLCAibW1fZGlz
cF95MnIwIiwgImRpc3Bfc2VsIiwgMjYpLA0KKwlHQVRFX01NMChDTEtfTU1fU01JX0dBTFMsICJt
bV9zbWlfZ2FscyIsICJkaXNwX3NlbCIsIDI3KSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfT1ZM
Ml8yTCwgIm1tX2Rpc3Bfb3ZsMl8ybCIsICJkaXNwX3NlbCIsIDI4KSwNCisJR0FURV9NTTAoQ0xL
X01NX0RJU1BfUkRNQTQsICJtbV9kaXNwX3JkbWE0IiwgImRpc3Bfc2VsIiwgMjkpLA0KKwlHQVRF
X01NMChDTEtfTU1fRElTUF9EUEkwLCAibW1fZGlzcF9kcGkwIiwgImRpc3Bfc2VsIiwgMzApLA0K
KwkvKiBNTTEgKi8NCisJR0FURV9NTTEoQ0xLX01NX1NNSV9JT01NVSwgIm1tX3NtaV9pb21tdSIs
ICJkaXNwX3NlbCIsIDApLA0KKwkvKiBNTTIgKi8NCisJR0FURV9NTTIoQ0xLX01NX0RTSV9EU0kw
LCAibW1fZHNpX2RzaTAiLCAiZGlzcF9zZWwiLCAwKSwNCisJR0FURV9NTTIoQ0xLX01NX0RQSV9E
UEkwLCAibW1fZHBpX2RwaTAiLCAiZHBpX3NlbCIsIDgpLA0KKwlHQVRFX01NMihDTEtfTU1fMjZN
SFosICJtbV8yNm1oeiIsICJjbGsyNm0iLCAyNCksDQorCUdBVEVfTU0yKENMS19NTV8zMktIWiwg
Im1tXzMya2h6IiwgImNsazMyayIsIDI1KSwNCit9Ow0KKw0KK3N0YXRpYyBpbnQgY2xrX210ODE5
Ml9tbV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0KK3sNCisJc3RydWN0IGRl
dmljZSAqZGV2ID0gJnBkZXYtPmRldjsNCisJc3RydWN0IGRldmljZV9ub2RlICpub2RlID0gZGV2
LT5wYXJlbnQtPm9mX25vZGU7DQorCXN0cnVjdCBjbGtfb25lY2VsbF9kYXRhICpjbGtfZGF0YTsN
CisJaW50IHI7DQorDQorCWNsa19kYXRhID0gbXRrX2FsbG9jX2Nsa19kYXRhKENMS19NTV9OUl9D
TEspOw0KKwlpZiAoIWNsa19kYXRhKQ0KKwkJcmV0dXJuIC1FTk9NRU07DQorDQorCXIgPSBtdGtf
Y2xrX3JlZ2lzdGVyX2dhdGVzKG5vZGUsIG1tX2Nsa3MsIEFSUkFZX1NJWkUobW1fY2xrcyksIGNs
a19kYXRhKTsNCisJaWYgKHIpDQorCQlyZXR1cm4gcjsNCisNCisJcmV0dXJuIG9mX2Nsa19hZGRf
cHJvdmlkZXIobm9kZSwgb2ZfY2xrX3NyY19vbmVjZWxsX2dldCwgY2xrX2RhdGEpOw0KK30NCisN
CitzdGF0aWMgc3RydWN0IHBsYXRmb3JtX2RyaXZlciBjbGtfbXQ4MTkyX21tX2RydiA9IHsNCisJ
LnByb2JlID0gY2xrX210ODE5Ml9tbV9wcm9iZSwNCisJLmRyaXZlciA9IHsNCisJCS5uYW1lID0g
ImNsay1tdDgxOTItbW0iLA0KKwl9LA0KK307DQorDQorYnVpbHRpbl9wbGF0Zm9ybV9kcml2ZXIo
Y2xrX210ODE5Ml9tbV9kcnYpOw0KLS0gDQoxLjguMS4xLmRpcnR5DQo=

