Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 9B5162C6403
	for <lists+linux-kernel@lfdr.de>; Fri, 27 Nov 2020 12:42:02 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1729302AbgK0Lkd (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Fri, 27 Nov 2020 06:40:33 -0500
Received: from mail.kernel.org ([198.145.29.99]:58916 "EHLO mail.kernel.org"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1725865AbgK0Lkd (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 27 Nov 2020 06:40:33 -0500
Received: from willie-the-truck (236.31.169.217.in-addr.arpa [217.169.31.236])
        (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
        (No client certificate requested)
        by mail.kernel.org (Postfix) with ESMTPSA id 2FBCB2054F;
        Fri, 27 Nov 2020 11:40:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=default; t=1606477232;
        bh=8KMLxmCrLtWhrKY8S5nZSN9DLDPsNlgrmadBquXd+VI=;
        h=Date:From:To:Cc:Subject:From;
        b=MNf8dDk/Y02pa3jIcSUut/TeDdS2fOkg/qK927C0HAwxhqJIyqWV87eYcH1/G90CF
         7wFfHcoe8entTO2DOlFs4j2FHXI6lbutciQbn4djICtjMG2F5rwtmucwmFthm4dmPC
         pY3G9W3jLQeDXJxDBZ2TuQKyshQt8rRBFc7/71as=
Date:   Fri, 27 Nov 2020 11:40:27 +0000
From:   Will Deacon <will@kernel.org>
To:     torvalds@linux-foundation.org
Cc:     catalin.marinas@arm.com, linux-arm-kernel@lists.infradead.org,
        linux-kernel@vger.kernel.org, kernel-team@android.com
Subject: [GIT PULL] arm64 fixes for -rc6
Message-ID: <20201127114027.GA20418@willie-the-truck>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.10.1 (2018-07-13)
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Hi Linus,

Here are some arm64 fixes for -rc6. The main changes are relating to our
handling of access/dirty bits, where our low-level page-table helpers
could lead to stale young mappings and loss of the dirty bit in some
cases (the latter has not been observed in practice, but could happen
when clearing "soft-dirty" if we enabled that). These were posted as
part of a larger series, but the rest of that is less urgent and needs a
v2 which I'll get to shortly.

In other news, we've now got a set of fixes to resolve the
lockdep/tracing problems that have been plaguing us for a while, but
they're still a bit "fresh" and I plan to send them to you next week
after we've got some more confidence in them (although initial CI
results look good).

Anyway, summary in the tag; please pull.

Cheers,

Will

--->8

The following changes since commit 23c216416056148136bdaf0cdd18caf4904bb6e1:

  arm64: cpu_errata: Apply Erratum 845719 to KRYO2XX Silver (2020-11-13 09:47:08 +0000)

are available in the Git repository at:

  git://git.kernel.org/pub/scm/linux/kernel/git/arm64/linux.git tags/arm64-fixes

for you to fetch changes up to ff1712f953e27f0b0718762ec17d0adb15c9fd0b:

  arm64: pgtable: Ensure dirty bit is preserved across pte_wrprotect() (2020-11-23 16:13:18 +0000)

----------------------------------------------------------------
arm64 fixes for -rc6

- Fix kerneldoc warnings generated by ACPI IORT code

- Fix pte_accessible() so that access flag is ignored

- Fix missing header #include

- Fix loss of software dirty bit across pte_wrprotect() when HW DBM is enabled

----------------------------------------------------------------
Randy Dunlap (1):
      arm64/fpsimd: add <asm/insn.h> to <asm/kprobes.h> to fix fpsimd build

Shiju Jose (1):
      ACPI/IORT: Fix doc warnings in iort.c

Will Deacon (2):
      arm64: pgtable: Fix pte_accessible()
      arm64: pgtable: Ensure dirty bit is preserved across pte_wrprotect()

 arch/arm64/include/asm/pgtable.h | 34 ++++++++++++++++++----------------
 arch/arm64/include/asm/probes.h  |  2 ++
 drivers/acpi/arm64/iort.c        |  8 +++++---
 3 files changed, 25 insertions(+), 19 deletions(-)
