Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id DA4E124AF0A
	for <lists+linux-kernel@lfdr.de>; Thu, 20 Aug 2020 08:07:14 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727798AbgHTGHJ (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Thu, 20 Aug 2020 02:07:09 -0400
Received: from mailgw02.mediatek.com ([210.61.82.184]:19751 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1726738AbgHTGFm (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 20 Aug 2020 02:05:42 -0400
X-UUID: 7579fbe64d4448ad846b3f4afec627f4-20200820
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=lFMgkncXYg8bkldshCfDIPngk3zXG9Y53QOyLpXvSOU=;
        b=c9Zm+P15w1SFwRylrc2EVhmOP+lYvcKIynNdHhrcKcjdfM8KT7jkCJuV8lTnxpZzjmQi5eMABQnAiDB45HL6qpszn9m3rm+FqpaV0Gncg5mmO2bGrm7Eo1HlOjqboXbGu1/MYDmUtXNmotmLKwnR15zo/XXyL5Yg0Ya8pewxAIA=;
X-UUID: 7579fbe64d4448ad846b3f4afec627f4-20200820
Received: from mtkcas10.mediatek.inc [(172.21.101.39)] by mailgw02.mediatek.com
        (envelope-from <yongqiang.niu@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 731242442; Thu, 20 Aug 2020 14:05:36 +0800
Received: from MTKCAS06.mediatek.inc (172.21.101.30) by
 mtkmbs05n2.mediatek.inc (172.21.101.140) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Thu, 20 Aug 2020 14:05:35 +0800
Received: from localhost.localdomain (10.17.3.153) by MTKCAS06.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Thu, 20 Aug 2020 14:05:34 +0800
From:   Yongqiang Niu <yongqiang.niu@mediatek.com>
To:     CK Hu <ck.hu@mediatek.com>, Philipp Zabel <p.zabel@pengutronix.de>,
        Rob Herring <robh+dt@kernel.org>,
        Matthias Brugger <matthias.bgg@gmail.com>
CC:     David Airlie <airlied@linux.ie>, Daniel Vetter <daniel@ffwll.ch>,
        Mark Rutland <mark.rutland@arm.com>,
        <dri-devel@lists.freedesktop.org>, <devicetree@vger.kernel.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-arm-kernel@lists.infradead.org>,
        <linux-mediatek@lists.infradead.org>,
        Yongqiang Niu <yongqiang.niu@mediatek.com>
Subject: [PATCH v1 04/21] mtk-mmsys: add mt8192 mmsys support
Date:   Thu, 20 Aug 2020 14:04:01 +0800
Message-ID: <1597903458-8055-5-git-send-email-yongqiang.niu@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
In-Reply-To: <1597903458-8055-1-git-send-email-yongqiang.niu@mediatek.com>
References: <1597903458-8055-1-git-send-email-yongqiang.niu@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

YWRkIG10ODE5MiBtbXN5cyBzdXBwb3J0DQoNClNpZ25lZC1vZmYtYnk6IFlvbmdxaWFuZyBOaXUg
PHlvbmdxaWFuZy5uaXVAbWVkaWF0ZWsuY29tPg0KLS0tDQogZHJpdmVycy9zb2MvbWVkaWF0ZWsv
bW1zeXMvTWFrZWZpbGUgICAgICAgfCAgIDEgKw0KIGRyaXZlcnMvc29jL21lZGlhdGVrL21tc3lz
L210ODE5Mi1tbXN5cy5jIHwgMTU5ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKw0KIDIg
ZmlsZXMgY2hhbmdlZCwgMTYwIGluc2VydGlvbnMoKykNCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJp
dmVycy9zb2MvbWVkaWF0ZWsvbW1zeXMvbXQ4MTkyLW1tc3lzLmMNCg0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvc29jL21lZGlhdGVrL21tc3lzL01ha2VmaWxlIGIvZHJpdmVycy9zb2MvbWVkaWF0ZWsv
bW1zeXMvTWFrZWZpbGUNCmluZGV4IDYyY2ZlZGYuLmM0YmI2YmUgMTAwNjQ0DQotLS0gYS9kcml2
ZXJzL3NvYy9tZWRpYXRlay9tbXN5cy9NYWtlZmlsZQ0KKysrIGIvZHJpdmVycy9zb2MvbWVkaWF0
ZWsvbW1zeXMvTWFrZWZpbGUNCkBAIC0xLDMgKzEsNCBAQA0KICMgU1BEWC1MaWNlbnNlLUlkZW50
aWZpZXI6IEdQTC0yLjAtb25seQ0KIG9iai15ICs9IG10MjcwMS1tbXN5cy5vDQogb2JqLXkgKz0g
bXQ4MTgzLW1tc3lzLm8NCitvYmoteSArPSBtdDgxOTItbW1zeXMubw0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvc29jL21lZGlhdGVrL21tc3lzL210ODE5Mi1tbXN5cy5jIGIvZHJpdmVycy9zb2MvbWVk
aWF0ZWsvbW1zeXMvbXQ4MTkyLW1tc3lzLmMNCm5ldyBmaWxlIG1vZGUgMTAwNjQ0DQppbmRleCAw
MDAwMDAwLi4wMDZkNDFkDQotLS0gL2Rldi9udWxsDQorKysgYi9kcml2ZXJzL3NvYy9tZWRpYXRl
ay9tbXN5cy9tdDgxOTItbW1zeXMuYw0KQEAgLTAsMCArMSwxNTkgQEANCisvLyBTUERYLUxpY2Vu
c2UtSWRlbnRpZmllcjogR1BMLTIuMA0KKy8vDQorLy8gQ29weXJpZ2h0IChjKSAyMDIwIE1lZGlh
VGVrIEluYy4NCisNCisjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+DQorI2luY2x1ZGUgPGxpbnV4
L2lvLmg+DQorI2luY2x1ZGUgPGxpbnV4L29mX2RldmljZS5oPg0KKyNpbmNsdWRlIDxsaW51eC9w
bGF0Zm9ybV9kZXZpY2UuaD4NCisjaW5jbHVkZSA8bGludXgvc29jL21lZGlhdGVrL210ay1tbXN5
cy5oPg0KKw0KKyNkZWZpbmUgTVQ4MTkyX01NU1lTX09WTF9NT1VUX0VOCQkweGYwNA0KKyNkZWZp
bmUgRElTUF9PVkwwX0dPX0JMRU5ECQkJCUJJVCgwKQ0KKyNkZWZpbmUgRElTUF9PVkwwX0dPX0JH
CQkJCQlCSVQoMSkNCisjZGVmaW5lIERJU1BfT1ZMMF8yTF9HT19CTEVORAkJCQlCSVQoMikNCisj
ZGVmaW5lIERJU1BfT1ZMMF8yTF9HT19CRwkJCQlCSVQoMykNCisjZGVmaW5lIE1UODE5Ml9ESVNQ
X09WTDBfMkxfTU9VVF9FTgkJMHhmMTgNCisjZGVmaW5lIE1UODE5Ml9ESVNQX09WTDBfTU9VVF9F
TgkJMHhmMWMNCisjZGVmaW5lIE9WTDBfTU9VVF9FTl9ESVNQX1JETUEwCQkJCUJJVCgwKQ0KKyNk
ZWZpbmUgTVQ4MTkyX0RJU1BfUkRNQTBfU0VMX0lOCQkweGYyYw0KKyNkZWZpbmUgTVQ4MTkyX1JE
TUEwX1NFTF9JTl9PVkwwXzJMCQkJMHgzDQorI2RlZmluZSBNVDgxOTJfRElTUF9SRE1BMF9TT1VU
X1NFTAkJMHhmMzANCisjZGVmaW5lIE1UODE5Ml9SRE1BMF9TT1VUX0NPTE9SMAkJCTB4MQ0KKyNk
ZWZpbmUgTVQ4MTkyX0RJU1BfQ0NPUlIwX1NPVVRfU0VMCQkweGYzNA0KKyNkZWZpbmUgTVQ4MTky
X0NDT1JSMF9TT1VUX0FBTDAJCQkJMHgxDQorI2RlZmluZSBNVDgxOTJfRElTUF9BQUwwX1NFTF9J
TgkJCTB4ZjM4DQorI2RlZmluZSBNVDgxOTJfQUFMMF9TRUxfSU5fQ0NPUlIwCQkJMHgxDQorI2Rl
ZmluZSBNVDgxOTJfRElTUF9ESVRIRVIwX01PVVRfRU4JCTB4ZjNjDQorI2RlZmluZSBNVDgxOTJf
RElUSEVSMF9NT1VUX0RTSTAJCQlCSVQoMCkNCisjZGVmaW5lIE1UODE5Ml9ESVNQX0RTSTBfU0VM
X0lOCQkJMHhmNDANCisjZGVmaW5lIE1UODE5Ml9EU0kwX1NFTF9JTl9ESVRIRVIwCQkJMHgxDQor
I2RlZmluZSBNVDgxOTJfRElTUF9PVkwyXzJMX01PVVRfRU4JCTB4ZjRjDQorI2RlZmluZSBNVDgx
OTJfT1ZMMl8yTF9NT1VUX1JETUE0CQkJQklUKDApDQorDQorc3RydWN0IG1tc3lzX3BhdGhfc2Vs
IHsNCisJZW51bSBtdGtfZGRwX2NvbXBfaWQgY3VyOw0KKwllbnVtIG10a19kZHBfY29tcF9pZCBu
ZXh0Ow0KKwl1MzIgYWRkcjsNCisJdTMyIHZhbDsNCit9Ow0KKw0KK3N0YXRpYyBzdHJ1Y3QgbW1z
eXNfcGF0aF9zZWwgbW1zeXNfbW91dF9lbltdID0gew0KKwl7DQorCQlERFBfQ09NUE9ORU5UX09W
TF8yTDAsIEREUF9DT01QT05FTlRfUkRNQTAsDQorCQlNVDgxOTJfRElTUF9PVkwwX01PVVRfRU4s
IE9WTDBfTU9VVF9FTl9ESVNQX1JETUEwLA0KKwl9LA0KKwl7DQorCQlERFBfQ09NUE9ORU5UX09W
TF8yTDIsIEREUF9DT01QT05FTlRfUkRNQTQsDQorCQlNVDgxOTJfRElTUF9PVkwyXzJMX01PVVRf
RU4sIE1UODE5Ml9PVkwyXzJMX01PVVRfUkRNQTQsDQorCX0sDQorCXsNCisJCUREUF9DT01QT05F
TlRfRElUSEVSLCBERFBfQ09NUE9ORU5UX0RTSTAsDQorCQlNVDgxOTJfRElTUF9ESVRIRVIwX01P
VVRfRU4sIE1UODE5Ml9ESVRIRVIwX01PVVRfRFNJMCwNCisJfSwNCit9Ow0KKw0KK3N0YXRpYyBz
dHJ1Y3QgbW1zeXNfcGF0aF9zZWwgbW1zeXNfc2VsX2luW10gPSB7DQorCXsNCisJCUREUF9DT01Q
T05FTlRfT1ZMXzJMMCwgRERQX0NPTVBPTkVOVF9SRE1BMCwNCisJCU1UODE5Ml9ESVNQX1JETUEw
X1NFTF9JTiwgTVQ4MTkyX1JETUEwX1NFTF9JTl9PVkwwXzJMLA0KKwl9LA0KKwl7DQorCQlERFBf
Q09NUE9ORU5UX0NDT1JSLCBERFBfQ09NUE9ORU5UX0FBTDAsDQorCQlNVDgxOTJfRElTUF9BQUww
X1NFTF9JTiwgTVQ4MTkyX0FBTDBfU0VMX0lOX0NDT1JSMCwNCisJfSwNCisJew0KKwkJRERQX0NP
TVBPTkVOVF9ESVRIRVIsIEREUF9DT01QT05FTlRfRFNJMCwNCisJCU1UODE5Ml9ESVNQX0RTSTBf
U0VMX0lOLCBNVDgxOTJfRFNJMF9TRUxfSU5fRElUSEVSMCwNCisJfSwNCit9Ow0KKw0KK3N0YXRp
YyBzdHJ1Y3QgbW1zeXNfcGF0aF9zZWwgbW1zeXNfc291dF9zZWxbXSA9IHsNCisJew0KKwkJRERQ
X0NPTVBPTkVOVF9SRE1BMCwgRERQX0NPTVBPTkVOVF9DT0xPUjAsDQorCQlNVDgxOTJfRElTUF9S
RE1BMF9TT1VUX1NFTCwgTVQ4MTkyX1JETUEwX1NPVVRfQ09MT1IwLA0KKwl9LA0KKwl7DQorCQlE
RFBfQ09NUE9ORU5UX0NDT1JSLCBERFBfQ09NUE9ORU5UX0FBTDAsDQorCQlNVDgxOTJfRElTUF9D
Q09SUjBfU09VVF9TRUwsIE1UODE5Ml9DQ09SUjBfU09VVF9BQUwwLA0KKwl9DQorfTsNCisNCitz
dGF0aWMgdW5zaWduZWQgaW50IG10a19tbXN5c19kZHBfbW91dF9lbihlbnVtIG10a19kZHBfY29t
cF9pZCBjdXIsDQorCQkJCQkgIGVudW0gbXRrX2RkcF9jb21wX2lkIG5leHQsDQorCQkJCQkgIHVu
c2lnbmVkIGludCAqYWRkcikNCit7DQorCXUzMiBpOw0KKwlzdHJ1Y3QgbW1zeXNfcGF0aF9zZWwg
KnBhdGg7DQorDQorCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKG1tc3lzX21vdXRfZW4pOyBp
KyspIHsNCisJCXBhdGggPSAmbW1zeXNfbW91dF9lbltpXTsNCisJCWlmIChjdXIgPT0gcGF0aC0+
Y3VyICYmIG5leHQgPT0gcGF0aC0+bmV4dCkgew0KKwkJCSphZGRyID0gcGF0aC0+YWRkcjsNCisJ
CQlyZXR1cm4gcGF0aC0+dmFsOw0KKwkJfQ0KKwl9DQorDQorCXJldHVybiAwOw0KK30NCisNCitz
dGF0aWMgdW5zaWduZWQgaW50IG10a19tbXN5c19kZHBfc2VsX2luKGVudW0gbXRrX2RkcF9jb21w
X2lkIGN1ciwNCisJCQkJCSBlbnVtIG10a19kZHBfY29tcF9pZCBuZXh0LA0KKwkJCQkJIHVuc2ln
bmVkIGludCAqYWRkcikNCit7DQorCXUzMiBpOw0KKwlzdHJ1Y3QgbW1zeXNfcGF0aF9zZWwgKnBh
dGg7DQorDQorCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKG1tc3lzX3NlbF9pbik7IGkrKykg
ew0KKwkJcGF0aCA9ICZtbXN5c19zZWxfaW5baV07DQorCQlpZiAoY3VyID09IHBhdGgtPmN1ciAm
JiBuZXh0ID09IHBhdGgtPm5leHQpIHsNCisJCQkqYWRkciA9IHBhdGgtPmFkZHI7DQorCQkJcmV0
dXJuIHBhdGgtPnZhbDsNCisJCX0NCisJfQ0KKw0KKwlyZXR1cm4gMDsNCit9DQorDQorc3RhdGlj
IHZvaWQgbXRrX21tc3lzX2RkcF9zb3V0X3NlbCh2b2lkIF9faW9tZW0gKmNvbmZpZ19yZWdzLA0K
KwkJCQkgICBlbnVtIG10a19kZHBfY29tcF9pZCBjdXIsDQorCQkJCSAgIGVudW0gbXRrX2RkcF9j
b21wX2lkIG5leHQpDQorew0KKwl1MzIgaTsNCisJdTMyIHZhbCA9IDA7DQorCXUzMiBhZGRyID0g
MDsNCisJc3RydWN0IG1tc3lzX3BhdGhfc2VsICpwYXRoOw0KKw0KKwlmb3IgKGkgPSAwOyBpIDwg
QVJSQVlfU0laRShtbXN5c19zb3V0X3NlbCk7IGkrKykgew0KKwkJcGF0aCA9ICZtbXN5c19zb3V0
X3NlbFtpXTsNCisJCWlmIChjdXIgPT0gcGF0aC0+Y3VyICYmIG5leHQgPT0gcGF0aC0+bmV4dCkg
ew0KKwkJCWFkZHIgPSBwYXRoLT5hZGRyOw0KKwkJCXdyaXRlbF9yZWxheGVkKHBhdGgtPnZhbCwg
Y29uZmlnX3JlZ3MgKyBhZGRyKTsNCisJCQlyZXR1cm47DQorCQl9DQorCX0NCit9DQorDQorc3Rh
dGljIHN0cnVjdCBtdGtfbW1zeXNfY29ubl9mdW5jcyBtbXN5c19mdW5jcyA9IHsNCisJLm1vdXRf
ZW4gPSBtdGtfbW1zeXNfZGRwX21vdXRfZW4sDQorCS5zZWxfaW4gPSBtdGtfbW1zeXNfZGRwX3Nl
bF9pbiwNCisJLnNvdXRfc2VsID0gbXRrX21tc3lzX2RkcF9zb3V0X3NlbCwNCit9Ow0KKw0KK3N0
YXRpYyBpbnQgbW1zeXNfcHJvYmUoc3RydWN0IHBsYXRmb3JtX2RldmljZSAqcGRldikNCit7DQor
CXN0cnVjdCBkZXZpY2UgKmRldiA9ICZwZGV2LT5kZXY7DQorDQorCW10a19tbXN5c19yZWdpc3Rl
cl9jb25uX2Z1bmNzKGRldi0+cGFyZW50LCAmbW1zeXNfZnVuY3MpOw0KKw0KKwlyZXR1cm4gMDsN
Cit9DQorDQorc3RhdGljIHN0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgbW1zeXNfZHJ2ID0gew0KKwku
cHJvYmUgPSBtbXN5c19wcm9iZSwNCisJLmRyaXZlciA9IHsNCisJCS5uYW1lID0gIm10ODE5Mi1t
bXN5cyIsDQorCX0sDQorfTsNCisNCitidWlsdGluX3BsYXRmb3JtX2RyaXZlcihtbXN5c19kcnYp
Ow0KLS0gDQoxLjguMS4xLmRpcnR5DQo=

