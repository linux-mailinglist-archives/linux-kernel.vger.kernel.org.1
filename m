Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 25563296BE9
	for <lists+linux-kernel@lfdr.de>; Fri, 23 Oct 2020 11:15:06 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S461283AbgJWJPA (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Fri, 23 Oct 2020 05:15:00 -0400
Received: from mailgw02.mediatek.com ([210.61.82.184]:47706 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S461185AbgJWJPA (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 23 Oct 2020 05:15:00 -0400
X-UUID: 735cd852d9564e198c892a295af2239c-20201023
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=LFxbOOl0A2kIOyhu8/sycF3YNV75YE/93bSFD6Yl2wM=;
        b=X0eZeenexabN2aWMP3jDCm4zRdZkllbZb5g29vC/tu6Byb7PliTqMmr7FjHlOw023xyF9NCNj1PdVLnvdXpGWSWNf1mdwQKhLAQGQAvrM2CV6eQakVS3vlSNovTrNUWRUoFU0BEUblpxjIgrGDx55UmUBtIhpNy05N8vrCA6WSM=;
X-UUID: 735cd852d9564e198c892a295af2239c-20201023
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw02.mediatek.com
        (envelope-from <miles.chen@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.14 Build 0819 with TLSv1.2 ECDHE-RSA-AES256-SHA384 256/256)
        with ESMTP id 1917976240; Fri, 23 Oct 2020 17:14:56 +0800
Received: from MTKCAS06.mediatek.inc (172.21.101.30) by
 mtkmbs08n1.mediatek.inc (172.21.101.55) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Fri, 23 Oct 2020 17:14:54 +0800
Received: from mtksdccf07.mediatek.inc (172.21.84.99) by MTKCAS06.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Fri, 23 Oct 2020 17:14:54 +0800
From:   Miles Chen <miles.chen@mediatek.com>
To:     Catalin Marinas <catalin.marinas@arm.com>,
        Russell King <linux@armlinux.org.uk>,
        Minchan Kim <minchan@kernel.org>
CC:     <linux-arm-kernel@lists.infradead.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>, <wsd_upstream@mediatek.com>,
        Will Deacon <will.deacon@arm.com>,
        Steve Capper <steve.capper@linaro.org>,
        Suren Baghdasaryan <surenb@google.com>,
        Miles Chen <miles.chen@mediatek.com>
Subject: [PATCH v2 3/4] arm: mm: introduce L_PTE_SPECIAL
Date:   Fri, 23 Oct 2020 17:14:36 +0800
Message-ID: <20201023091437.8225-4-miles.chen@mediatek.com>
X-Mailer: git-send-email 2.18.0
In-Reply-To: <20201023091437.8225-1-miles.chen@mediatek.com>
References: <20201023091437.8225-1-miles.chen@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

RnJvbTogTWluY2hhbiBLaW0gPG1pbmNoYW5Aa2VybmVsLm9yZz4NCg0KVGhpcyBwYXRjaCBpbnRy
b2R1Y2VzIExfUFRFX1NQRUNJQUwgYW5kIHB0ZSBmdW5jdGlvbnMgZm9yIHN1cHBvcnRpbmcNCmdl
dF91c2VyX3BhZ2VzX2Zhc3QuDQoNCkNjOiBSdXNzZWxsIEtpbmcgPGxpbnV4QGFybWxpbnV4Lm9y
Zy51az4NCkNjOiBDYXRhbGluIE1hcmluYXMgPGNhdGFsaW4ubWFyaW5hc0Bhcm0uY29tPg0KQ2M6
IFdpbGwgRGVhY29uIDx3aWxsLmRlYWNvbkBhcm0uY29tPg0KQ2M6IFN0ZXZlIENhcHBlciA8c3Rl
dmUuY2FwcGVyQGxpbmFyby5vcmc+DQpDYzogTWluY2hhbiBLaW0gPG1pbmNoYW5Aa2VybmVsLm9y
Zz4NCkNjOiBTdXJlbiBCYWdoZGFzYXJ5YW4gPHN1cmVuYkBnb29nbGUuY29tPg0KU2lnbmVkLW9m
Zi1ieTogTWluY2hhbiBLaW0gPG1pbmNoYW5Aa2VybmVsLm9yZz4NClNpZ25lZC1vZmYtYnk6IE1p
bGVzIENoZW4gPG1pbGVzLmNoZW5AbWVkaWF0ZWsuY29tPg0KLS0tDQogYXJjaC9hcm0vS2NvbmZp
ZyAgICAgICAgICAgICAgICAgICAgICB8ICA0ICsrLS0NCiBhcmNoL2FybS9pbmNsdWRlL2FzbS9w
Z3RhYmxlLTJsZXZlbC5oIHwgIDEgKw0KIGFyY2gvYXJtL2luY2x1ZGUvYXNtL3BndGFibGUtM2xl
dmVsLmggfCAgNiAtLS0tLS0NCiBhcmNoL2FybS9pbmNsdWRlL2FzbS9wZ3RhYmxlLmggICAgICAg
IHwgMTMgKysrKysrKysrKysrKw0KIDQgZmlsZXMgY2hhbmdlZCwgMTYgaW5zZXJ0aW9ucygrKSwg
OCBkZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2FyY2gvYXJtL0tjb25maWcgYi9hcmNoL2Fy
bS9LY29uZmlnDQppbmRleCBjMThmYTlkMzgyYjcuLjFmNzU4NjRiN2M3YSAxMDA2NDQNCi0tLSBh
L2FyY2gvYXJtL0tjb25maWcNCisrKyBiL2FyY2gvYXJtL0tjb25maWcNCkBAIC0xMyw3ICsxMyw3
IEBAIGNvbmZpZyBBUk0NCiAJc2VsZWN0IEFSQ0hfSEFTX0tDT1YNCiAJc2VsZWN0IEFSQ0hfSEFT
X01FTUJBUlJJRVJfU1lOQ19DT1JFDQogCXNlbGVjdCBBUkNIX0hBU19OT05fT1ZFUkxBUFBJTkdf
QUREUkVTU19TUEFDRQ0KLQlzZWxlY3QgQVJDSF9IQVNfUFRFX1NQRUNJQUwgaWYgQVJNX0xQQUUN
CisJc2VsZWN0IEFSQ0hfSEFTX1BURV9TUEVDSUFMIGlmIChBUk1fTFBBRSB8fCBDUFVfVjcgfHwg
Q1BVX1Y2IHx8IENQVVY2SykNCiAJc2VsZWN0IEFSQ0hfSEFTX1BIWVNfVE9fRE1BDQogCXNlbGVj
dCBBUkNIX0hBU19TRVRVUF9ETUFfT1BTDQogCXNlbGVjdCBBUkNIX0hBU19TRVRfTUVNT1JZDQpA
QCAtODIsNyArODIsNyBAQCBjb25maWcgQVJNDQogCXNlbGVjdCBIQVZFX0RZTkFNSUNfRlRSQUNF
X1dJVEhfUkVHUyBpZiBIQVZFX0RZTkFNSUNfRlRSQUNFDQogCXNlbGVjdCBIQVZFX0VGRklDSUVO
VF9VTkFMSUdORURfQUNDRVNTIGlmIChDUFVfVjYgfHwgQ1BVX1Y2SyB8fCBDUFVfVjcpICYmIE1N
VQ0KIAlzZWxlY3QgSEFWRV9FWElUX1RIUkVBRA0KLQlzZWxlY3QgSEFWRV9GQVNUX0dVUCBpZiBB
Uk1fTFBBRQ0KKwlzZWxlY3QgSEFWRV9GQVNUX0dVUCBpZiAoQVJNX0xQQUUgfHwgQ1BVX1Y3IHx8
IENQVV9WNiB8fCBDUFVWNkspDQogCXNlbGVjdCBIQVZFX0ZUUkFDRV9NQ09VTlRfUkVDT1JEIGlm
ICFYSVBfS0VSTkVMDQogCXNlbGVjdCBIQVZFX0ZVTkNUSU9OX0dSQVBIX1RSQUNFUiBpZiAhVEhV
TUIyX0tFUk5FTCAmJiAhQ0NfSVNfQ0xBTkcNCiAJc2VsZWN0IEhBVkVfRlVOQ1RJT05fVFJBQ0VS
IGlmICFYSVBfS0VSTkVMDQpkaWZmIC0tZ2l0IGEvYXJjaC9hcm0vaW5jbHVkZS9hc20vcGd0YWJs
ZS0ybGV2ZWwuaCBiL2FyY2gvYXJtL2luY2x1ZGUvYXNtL3BndGFibGUtMmxldmVsLmgNCmluZGV4
IGNkY2Q1NWNjYTM3ZC4uMzg1ZTdhMzIzOTRlIDEwMDY0NA0KLS0tIGEvYXJjaC9hcm0vaW5jbHVk
ZS9hc20vcGd0YWJsZS0ybGV2ZWwuaA0KKysrIGIvYXJjaC9hcm0vaW5jbHVkZS9hc20vcGd0YWJs
ZS0ybGV2ZWwuaA0KQEAgLTExNyw2ICsxMTcsNyBAQA0KICNkZWZpbmUgTF9QVEVfVkFMSUQJCShf
QVQocHRldmFsX3QsIDEpIDw8IDApCQkvKiBWYWxpZCAqLw0KICNkZWZpbmUgTF9QVEVfUFJFU0VO
VAkJKF9BVChwdGV2YWxfdCwgMSkgPDwgMCkNCiAjZGVmaW5lIExfUFRFX1lPVU5HCQkoX0FUKHB0
ZXZhbF90LCAxKSA8PCAxKQ0KKyNkZWZpbmUgTF9QVEVfU1BFQ0lBTAkJKF9BVChwdGV2YWxfdCwg
MSkgPDwgNSkNCiAjZGVmaW5lIExfUFRFX0RJUlRZCQkoX0FUKHB0ZXZhbF90LCAxKSA8PCA2KQ0K
ICNkZWZpbmUgTF9QVEVfUkRPTkxZCQkoX0FUKHB0ZXZhbF90LCAxKSA8PCA3KQ0KICNkZWZpbmUg
TF9QVEVfVVNFUgkJKF9BVChwdGV2YWxfdCwgMSkgPDwgOCkNCmRpZmYgLS1naXQgYS9hcmNoL2Fy
bS9pbmNsdWRlL2FzbS9wZ3RhYmxlLTNsZXZlbC5oIGIvYXJjaC9hcm0vaW5jbHVkZS9hc20vcGd0
YWJsZS0zbGV2ZWwuaA0KaW5kZXggZmJiNjY5M2MzMzUyLi40NmZjYzY3MjVkM2UgMTAwNjQ0DQot
LS0gYS9hcmNoL2FybS9pbmNsdWRlL2FzbS9wZ3RhYmxlLTNsZXZlbC5oDQorKysgYi9hcmNoL2Fy
bS9pbmNsdWRlL2FzbS9wZ3RhYmxlLTNsZXZlbC5oDQpAQCAtMTc1LDEyICsxNzUsNiBAQCBzdGF0
aWMgaW5saW5lIHBtZF90ICpwdWRfcGFnZV92YWRkcihwdWRfdCBwdWQpDQogDQogI2RlZmluZSBw
bWRfcHJlc2VudChwbWQpCShwbWRfaXNzZXQoKHBtZCksIExfUE1EX1NFQ1RfVkFMSUQpKQ0KICNk
ZWZpbmUgcG1kX3lvdW5nKHBtZCkJCShwbWRfaXNzZXQoKHBtZCksIFBNRF9TRUNUX0FGKSkNCi0j
ZGVmaW5lIHB0ZV9zcGVjaWFsKHB0ZSkJKHB0ZV9pc3NldCgocHRlKSwgTF9QVEVfU1BFQ0lBTCkp
DQotc3RhdGljIGlubGluZSBwdGVfdCBwdGVfbWtzcGVjaWFsKHB0ZV90IHB0ZSkNCi17DQotCXB0
ZV92YWwocHRlKSB8PSBMX1BURV9TUEVDSUFMOw0KLQlyZXR1cm4gcHRlOw0KLX0NCiANCiAjZGVm
aW5lIHBtZF93cml0ZShwbWQpCQkocG1kX2lzY2xlYXIoKHBtZCksIExfUE1EX1NFQ1RfUkRPTkxZ
KSkNCiAjZGVmaW5lIHBtZF9kaXJ0eShwbWQpCQkocG1kX2lzc2V0KChwbWQpLCBMX1BNRF9TRUNU
X0RJUlRZKSkNCmRpZmYgLS1naXQgYS9hcmNoL2FybS9pbmNsdWRlL2FzbS9wZ3RhYmxlLmggYi9h
cmNoL2FybS9pbmNsdWRlL2FzbS9wZ3RhYmxlLmgNCmluZGV4IGMwMmYyNDQwMDM2OS4uNDA5MjE1
NGNhNzc5IDEwMDY0NA0KLS0tIGEvYXJjaC9hcm0vaW5jbHVkZS9hc20vcGd0YWJsZS5oDQorKysg
Yi9hcmNoL2FybS9pbmNsdWRlL2FzbS9wZ3RhYmxlLmgNCkBAIC0xOTUsNiArMTk1LDExIEBAIHN0
YXRpYyBpbmxpbmUgcHRlX3QgKnBtZF9wYWdlX3ZhZGRyKHBtZF90IHBtZCkNCiAjZGVmaW5lIHB0
ZV9kaXJ0eShwdGUpCQkocHRlX2lzc2V0KChwdGUpLCBMX1BURV9ESVJUWSkpDQogI2RlZmluZSBw
dGVfeW91bmcocHRlKQkJKHB0ZV9pc3NldCgocHRlKSwgTF9QVEVfWU9VTkcpKQ0KICNkZWZpbmUg
cHRlX2V4ZWMocHRlKQkJKHB0ZV9pc2NsZWFyKChwdGUpLCBMX1BURV9YTikpDQorI2lmZGVmIENP
TkZJR19BUkNIX0hBU19QVEVfU1BFQ0lBTA0KKyNkZWZpbmUgcHRlX3NwZWNpYWwocHRlKQkocHRl
X2lzc2V0KChwdGUpLCBMX1BURV9TUEVDSUFMKSkNCisjZWxzZQ0KKyNkZWZpbmUgcHRlX3NwZWNp
YWwocHRlKQkoMCkNCisjZW5kaWYNCiANCiAjZGVmaW5lIHB0ZV92YWxpZF91c2VyKHB0ZSkJXA0K
IAkocHRlX3ZhbGlkKHB0ZSkgJiYgcHRlX2lzc2V0KChwdGUpLCBMX1BURV9VU0VSKSAmJiBwdGVf
eW91bmcocHRlKSkNCkBAIC0yNzQsNiArMjc5LDE0IEBAIHN0YXRpYyBpbmxpbmUgcHRlX3QgcHRl
X21rbmV4ZWMocHRlX3QgcHRlKQ0KIAlyZXR1cm4gc2V0X3B0ZV9iaXQocHRlLCBfX3BncHJvdChM
X1BURV9YTikpOw0KIH0NCiANCisjaWZkZWYgQ09ORklHX0FSQ0hfSEFTX1BURV9TUEVDSUFMDQor
c3RhdGljIGlubGluZSBwdGVfdCBwdGVfbWtzcGVjaWFsKHB0ZV90IHB0ZSkNCit7DQorCXJldHVy
biBzZXRfcHRlX2JpdChwdGUsIF9fcGdwcm90KExfUFRFX1NQRUNJQUwpKTsNCit9DQorI2Vsc2UN
CitzdGF0aWMgaW5saW5lIHB0ZV90IHB0ZV9ta3NwZWNpYWwocHRlX3QgcHRlKSB7IHJldHVybiBw
dGU7IH0NCisjZW5kaWYNCiBzdGF0aWMgaW5saW5lIHB0ZV90IHB0ZV9tb2RpZnkocHRlX3QgcHRl
LCBwZ3Byb3RfdCBuZXdwcm90KQ0KIHsNCiAJY29uc3QgcHRldmFsX3QgbWFzayA9IExfUFRFX1hO
IHwgTF9QVEVfUkRPTkxZIHwgTF9QVEVfVVNFUiB8DQotLSANCjIuMTguMA0K

