Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id AF2061DC959
	for <lists+linux-kernel@lfdr.de>; Thu, 21 May 2020 11:07:21 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1728864AbgEUJHF (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Thu, 21 May 2020 05:07:05 -0400
Received: from mailgw01.mediatek.com ([210.61.82.183]:11823 "EHLO
        mailgw01.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1728776AbgEUJGj (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 21 May 2020 05:06:39 -0400
X-UUID: ae344b4655454747bb7e65b973c4d19e-20200521
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=+VyawRv8aQyX9Aas/QtWMpyutNgHAdwgtPsHqvmN3/c=;
        b=cNLSQgtan1CFHG2gWqksJxs3FuQsKr/SKDw1aNOFnQU23vsXqn15Cimlh1EgqeBSnNF7BmYceanlvbmfCc9G3uQPR7sg2mTdwlc5eN4XCuilt14rnJbMLsFsnic7zXBm+OVL+93Cq4sYwVQdnO4ruRhV9tCuFCPKolEerYQ/hOA=;
X-UUID: ae344b4655454747bb7e65b973c4d19e-20200521
Received: from mtkcas06.mediatek.inc [(172.21.101.30)] by mailgw01.mediatek.com
        (envelope-from <weiyi.lu@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 1141577230; Thu, 21 May 2020 17:06:32 +0800
Received: from mtkcas08.mediatek.inc (172.21.101.126) by
 mtkmbs07n1.mediatek.inc (172.21.101.16) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Thu, 21 May 2020 17:06:29 +0800
Received: from mtksdccf07.mediatek.inc (172.21.84.99) by mtkcas08.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Thu, 21 May 2020 17:06:29 +0800
From:   Weiyi Lu <weiyi.lu@mediatek.com>
To:     Enric Balletbo Serra <eballetbo@gmail.com>,
        Matthias Brugger <matthias.bgg@gmail.com>,
        Nicolas Boichat <drinkcat@chromium.org>,
        Rob Herring <robh@kernel.org>,
        Sascha Hauer <kernel@pengutronix.de>
CC:     James Liao <jamesjj.liao@mediatek.com>,
        Fan Chen <fan.chen@mediatek.com>,
        <linux-arm-kernel@lists.infradead.org>,
        <linux-kernel@vger.kernel.org>, <devicetree@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>,
        <srv_heupstream@mediatek.com>, Weiyi Lu <weiyi.lu@mediatek.com>
Subject: [PATCH v15 04/11] soc: mediatek: Remove infracfg misc driver support
Date:   Thu, 21 May 2020 17:06:17 +0800
Message-ID: <1590051985-29149-5-git-send-email-weiyi.lu@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
In-Reply-To: <1590051985-29149-1-git-send-email-weiyi.lu@mediatek.com>
References: <1590051985-29149-1-git-send-email-weiyi.lu@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

VGhlIGZ1bmN0aW9ucyBwcm92aWRlZCBieSBpbmZyYWNmZyBtaXNjIGRyaXZlciBoYXZlIG5vIG90
aGVyIHVzZXIgZXhjZXB0DQp0aGUgc2Nwc3lzIGRyaXZlciBzbyBtb3ZlIHRob3NlIGludG8gc2Nw
c3lzIGRyaXZlciBkaXJlY3RseS4NCkFuZCB0aGVuLCByZW1vdmUgaW5mcmFjZmcgbWlzYyBkcml2
ZXIgd2hpY2ggaXMgbm8gbG9uZ2VyIGJlaW5nIHVzZWQuDQpCVFcsIGluIG5leHQgcGF0Y2gsIHdl
J3JlIGdvaW5nIHRvIGV4dGVuZCB0aGUgYnVzIHByb3RlY3Rpb24gZnVuY3Rpb25zDQp3aXRoIG1v
cmUgY3VzdG9taXplZCBhcmd1bWVudHMuDQoNClNpZ25lZC1vZmYtYnk6IFdlaXlpIEx1IDx3ZWl5
aS5sdUBtZWRpYXRlay5jb20+DQpSZXZpZXdlZC1ieTogRW5yaWMgQmFsbGV0Ym8gaSBTZXJyYSA8
ZW5yaWMuYmFsbGV0Ym9AY29sbGFib3JhLmNvbT4NCi0tLQ0KIGRyaXZlcnMvc29jL21lZGlhdGVr
L0tjb25maWcgICAgICAgICAgfCAxMCAtLS0tLQ0KIGRyaXZlcnMvc29jL21lZGlhdGVrL01ha2Vm
aWxlICAgICAgICAgfCAgMSAtDQogZHJpdmVycy9zb2MvbWVkaWF0ZWsvbXRrLWluZnJhY2ZnLmMg
ICB8IDc5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogZHJpdmVycy9zb2Mv
bWVkaWF0ZWsvbXRrLXNjcHN5cy5jICAgICB8IDY2ICsrKysrKysrKysrKysrKysrKysrKysrKyst
LS0tDQogaW5jbHVkZS9saW51eC9zb2MvbWVkaWF0ZWsvaW5mcmFjZmcuaCB8IDM5IC0tLS0tLS0t
LS0tLS0tLS0tDQogNSBmaWxlcyBjaGFuZ2VkLCA1NyBpbnNlcnRpb25zKCspLCAxMzggZGVsZXRp
b25zKC0pDQogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvc29jL21lZGlhdGVrL210ay1pbmZy
YWNmZy5jDQogZGVsZXRlIG1vZGUgMTAwNjQ0IGluY2x1ZGUvbGludXgvc29jL21lZGlhdGVrL2lu
ZnJhY2ZnLmgNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvc29jL21lZGlhdGVrL0tjb25maWcgYi9k
cml2ZXJzL3NvYy9tZWRpYXRlay9LY29uZmlnDQppbmRleCAyMTE0YjU2Li5mODM3YjNjIDEwMDY0
NA0KLS0tIGEvZHJpdmVycy9zb2MvbWVkaWF0ZWsvS2NvbmZpZw0KKysrIGIvZHJpdmVycy9zb2Mv
bWVkaWF0ZWsvS2NvbmZpZw0KQEAgLTEwLDIxICsxMCwxMiBAQCBjb25maWcgTVRLX0NNRFENCiAJ
ZGVwZW5kcyBvbiBBUkNIX01FRElBVEVLIHx8IENPTVBJTEVfVEVTVA0KIAlzZWxlY3QgTUFJTEJP
WA0KIAlzZWxlY3QgTVRLX0NNRFFfTUJPWA0KLQlzZWxlY3QgTVRLX0lORlJBQ0ZHDQogCWhlbHAN
CiAJICBTYXkgeWVzIGhlcmUgdG8gYWRkIHN1cHBvcnQgZm9yIHRoZSBNZWRpYVRlayBDb21tYW5k
IFF1ZXVlIChDTURRKQ0KIAkgIGRyaXZlci4gVGhlIENNRFEgaXMgdXNlZCB0byBoZWxwIHJlYWQv
d3JpdGUgcmVnaXN0ZXJzIHdpdGggY3JpdGljYWwNCiAJICB0aW1lIGxpbWl0YXRpb24sIHN1Y2gg
YXMgdXBkYXRpbmcgZGlzcGxheSBjb25maWd1cmF0aW9uIGR1cmluZyB0aGUNCiAJICB2Ymxhbmsu
DQogDQotY29uZmlnIE1US19JTkZSQUNGRw0KLQlib29sICJNZWRpYVRlayBJTkZSQUNGRyBTdXBw
b3J0Ig0KLQlzZWxlY3QgUkVHTUFQDQotCWhlbHANCi0JICBTYXkgeWVzIGhlcmUgdG8gYWRkIHN1
cHBvcnQgZm9yIHRoZSBNZWRpYVRlayBJTkZSQUNGRyBjb250cm9sbGVyLiBUaGUNCi0JICBJTkZS
QUNGRyBjb250cm9sbGVyIGNvbnRhaW5zIHZhcmlvdXMgaW5mcmFzdHJ1Y3R1cmUgcmVnaXN0ZXJz
IG5vdA0KLQkgIGRpcmVjdGx5IGFzc29jaWF0ZWQgdG8gYW55IGRldmljZS4NCi0NCiBjb25maWcg
TVRLX1BNSUNfV1JBUA0KIAl0cmlzdGF0ZSAiTWVkaWFUZWsgUE1JQyBXcmFwcGVyIFN1cHBvcnQi
DQogCWRlcGVuZHMgb24gUkVTRVRfQ09OVFJPTExFUg0KQEAgLTM4LDcgKzI5LDYgQEAgY29uZmln
IE1US19TQ1BTWVMNCiAJYm9vbCAiTWVkaWFUZWsgU0NQU1lTIFN1cHBvcnQiDQogCWRlZmF1bHQg
QVJDSF9NRURJQVRFSw0KIAlzZWxlY3QgUkVHTUFQDQotCXNlbGVjdCBNVEtfSU5GUkFDRkcNCiAJ
c2VsZWN0IFBNX0dFTkVSSUNfRE9NQUlOUyBpZiBQTQ0KIAloZWxwDQogCSAgU2F5IHllcyBoZXJl
IHRvIGFkZCBzdXBwb3J0IGZvciB0aGUgTWVkaWFUZWsgU0NQU1lTIHBvd2VyIGRvbWFpbg0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvc29jL21lZGlhdGVrL01ha2VmaWxlIGIvZHJpdmVycy9zb2MvbWVk
aWF0ZWsvTWFrZWZpbGUNCmluZGV4IGIwMTczMzAuLjJiMmMyNTM3IDEwMDY0NA0KLS0tIGEvZHJp
dmVycy9zb2MvbWVkaWF0ZWsvTWFrZWZpbGUNCisrKyBiL2RyaXZlcnMvc29jL21lZGlhdGVrL01h
a2VmaWxlDQpAQCAtMSw1ICsxLDQgQEANCiAjIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwt
Mi4wLW9ubHkNCiBvYmotJChDT05GSUdfTVRLX0NNRFEpICs9IG10ay1jbWRxLWhlbHBlci5vDQot
b2JqLSQoQ09ORklHX01US19JTkZSQUNGRykgKz0gbXRrLWluZnJhY2ZnLm8NCiBvYmotJChDT05G
SUdfTVRLX1BNSUNfV1JBUCkgKz0gbXRrLXBtaWMtd3JhcC5vDQogb2JqLSQoQ09ORklHX01US19T
Q1BTWVMpICs9IG10ay1zY3BzeXMubw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvc29jL21lZGlhdGVr
L210ay1pbmZyYWNmZy5jIGIvZHJpdmVycy9zb2MvbWVkaWF0ZWsvbXRrLWluZnJhY2ZnLmMNCmRl
bGV0ZWQgZmlsZSBtb2RlIDEwMDY0NA0KaW5kZXggMzQxYzdhYy4uMDAwMDAwMA0KLS0tIGEvZHJp
dmVycy9zb2MvbWVkaWF0ZWsvbXRrLWluZnJhY2ZnLmMNCisrKyAvZGV2L251bGwNCkBAIC0xLDc5
ICswLDAgQEANCi0vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5DQotLyoN
Ci0gKiBDb3B5cmlnaHQgKGMpIDIwMTUgUGVuZ3V0cm9uaXgsIFNhc2NoYSBIYXVlciA8a2VybmVs
QHBlbmd1dHJvbml4LmRlPg0KLSAqLw0KLQ0KLSNpbmNsdWRlIDxsaW51eC9leHBvcnQuaD4NCi0j
aW5jbHVkZSA8bGludXgvamlmZmllcy5oPg0KLSNpbmNsdWRlIDxsaW51eC9yZWdtYXAuaD4NCi0j
aW5jbHVkZSA8bGludXgvc29jL21lZGlhdGVrL2luZnJhY2ZnLmg+DQotI2luY2x1ZGUgPGFzbS9w
cm9jZXNzb3IuaD4NCi0NCi0jZGVmaW5lIE1US19QT0xMX0RFTEFZX1VTICAgMTANCi0jZGVmaW5l
IE1US19QT0xMX1RJTUVPVVQgICAgKGppZmZpZXNfdG9fdXNlY3MoSFopKQ0KLQ0KLSNkZWZpbmUg
SU5GUkFfVE9QQVhJX1BST1RFQ1RFTgkJMHgwMjIwDQotI2RlZmluZSBJTkZSQV9UT1BBWElfUFJP
VEVDVFNUQTEJMHgwMjI4DQotI2RlZmluZSBJTkZSQV9UT1BBWElfUFJPVEVDVEVOX1NFVAkweDAy
NjANCi0jZGVmaW5lIElORlJBX1RPUEFYSV9QUk9URUNURU5fQ0xSCTB4MDI2NA0KLQ0KLS8qKg0K
LSAqIG10a19pbmZyYWNmZ19zZXRfYnVzX3Byb3RlY3Rpb24gLSBlbmFibGUgYnVzIHByb3RlY3Rp
b24NCi0gKiBAcmVnbWFwOiBUaGUgaW5mcmFjZmcgcmVnbWFwDQotICogQG1hc2s6IFRoZSBtYXNr
IGNvbnRhaW5pbmcgdGhlIHByb3RlY3Rpb24gYml0cyB0byBiZSBlbmFibGVkLg0KLSAqIEByZWdf
dXBkYXRlOiBUaGUgYm9vbGVhbiBmbGFnIGRldGVybWluZXMgdG8gc2V0IHRoZSBwcm90ZWN0aW9u
IGJpdHMNCi0gKiAgICAgICAgICAgICAgYnkgcmVnbWFwX3VwZGF0ZV9iaXRzIHdpdGggZW5hYmxl
IHJlZ2lzdGVyKFBST1RFQ1RFTikgb3INCi0gKiAgICAgICAgICAgICAgYnkgcmVnbWFwX3dyaXRl
IHdpdGggc2V0IHJlZ2lzdGVyKFBST1RFQ1RFTl9TRVQpLg0KLSAqDQotICogVGhpcyBmdW5jdGlv
biBlbmFibGVzIHRoZSBidXMgcHJvdGVjdGlvbiBiaXRzIGZvciBkaXNhYmxlZCBwb3dlcg0KLSAq
IGRvbWFpbnMgc28gdGhhdCB0aGUgc3lzdGVtIGRvZXMgbm90IGhhbmcgd2hlbiBzb21lIHVuaXQg
YWNjZXNzZXMgdGhlDQotICogYnVzIHdoaWxlIGluIHBvd2VyIGRvd24uDQotICovDQotaW50IG10
a19pbmZyYWNmZ19zZXRfYnVzX3Byb3RlY3Rpb24oc3RydWN0IHJlZ21hcCAqaW5mcmFjZmcsIHUz
MiBtYXNrLA0KLQkJYm9vbCByZWdfdXBkYXRlKQ0KLXsNCi0JdTMyIHZhbDsNCi0JaW50IHJldDsN
Ci0NCi0JaWYgKHJlZ191cGRhdGUpDQotCQlyZWdtYXBfdXBkYXRlX2JpdHMoaW5mcmFjZmcsIElO
RlJBX1RPUEFYSV9QUk9URUNURU4sIG1hc2ssDQotCQkJCW1hc2spOw0KLQllbHNlDQotCQlyZWdt
YXBfd3JpdGUoaW5mcmFjZmcsIElORlJBX1RPUEFYSV9QUk9URUNURU5fU0VULCBtYXNrKTsNCi0N
Ci0JcmV0ID0gcmVnbWFwX3JlYWRfcG9sbF90aW1lb3V0KGluZnJhY2ZnLCBJTkZSQV9UT1BBWElf
UFJPVEVDVFNUQTEsDQotCQkJCSAgICAgICB2YWwsICh2YWwgJiBtYXNrKSA9PSBtYXNrLA0KLQkJ
CQkgICAgICAgTVRLX1BPTExfREVMQVlfVVMsIE1US19QT0xMX1RJTUVPVVQpOw0KLQ0KLQlyZXR1
cm4gcmV0Ow0KLX0NCi0NCi0vKioNCi0gKiBtdGtfaW5mcmFjZmdfY2xlYXJfYnVzX3Byb3RlY3Rp
b24gLSBkaXNhYmxlIGJ1cyBwcm90ZWN0aW9uDQotICogQHJlZ21hcDogVGhlIGluZnJhY2ZnIHJl
Z21hcA0KLSAqIEBtYXNrOiBUaGUgbWFzayBjb250YWluaW5nIHRoZSBwcm90ZWN0aW9uIGJpdHMg
dG8gYmUgZGlzYWJsZWQuDQotICogQHJlZ191cGRhdGU6IFRoZSBib29sZWFuIGZsYWcgZGV0ZXJt
aW5lcyB0byBjbGVhciB0aGUgcHJvdGVjdGlvbiBiaXRzDQotICogICAgICAgICAgICAgIGJ5IHJl
Z21hcF91cGRhdGVfYml0cyB3aXRoIGVuYWJsZSByZWdpc3RlcihQUk9URUNURU4pIG9yDQotICog
ICAgICAgICAgICAgIGJ5IHJlZ21hcF93cml0ZSB3aXRoIGNsZWFyIHJlZ2lzdGVyKFBST1RFQ1RF
Tl9DTFIpLg0KLSAqDQotICogVGhpcyBmdW5jdGlvbiBkaXNhYmxlcyB0aGUgYnVzIHByb3RlY3Rp
b24gYml0cyBwcmV2aW91c2x5IGVuYWJsZWQgd2l0aA0KLSAqIG10a19pbmZyYWNmZ19zZXRfYnVz
X3Byb3RlY3Rpb24uDQotICovDQotDQotaW50IG10a19pbmZyYWNmZ19jbGVhcl9idXNfcHJvdGVj
dGlvbihzdHJ1Y3QgcmVnbWFwICppbmZyYWNmZywgdTMyIG1hc2ssDQotCQlib29sIHJlZ191cGRh
dGUpDQotew0KLQlpbnQgcmV0Ow0KLQl1MzIgdmFsOw0KLQ0KLQlpZiAocmVnX3VwZGF0ZSkNCi0J
CXJlZ21hcF91cGRhdGVfYml0cyhpbmZyYWNmZywgSU5GUkFfVE9QQVhJX1BST1RFQ1RFTiwgbWFz
aywgMCk7DQotCWVsc2UNCi0JCXJlZ21hcF93cml0ZShpbmZyYWNmZywgSU5GUkFfVE9QQVhJX1BS
T1RFQ1RFTl9DTFIsIG1hc2spOw0KLQ0KLQlyZXQgPSByZWdtYXBfcmVhZF9wb2xsX3RpbWVvdXQo
aW5mcmFjZmcsIElORlJBX1RPUEFYSV9QUk9URUNUU1RBMSwNCi0JCQkJICAgICAgIHZhbCwgISh2
YWwgJiBtYXNrKSwNCi0JCQkJICAgICAgIE1US19QT0xMX0RFTEFZX1VTLCBNVEtfUE9MTF9USU1F
T1VUKTsNCi0NCi0JcmV0dXJuIHJldDsNCi19DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9zb2MvbWVk
aWF0ZWsvbXRrLXNjcHN5cy5jIGIvZHJpdmVycy9zb2MvbWVkaWF0ZWsvbXRrLXNjcHN5cy5jDQpp
bmRleCBjOWMzY2Y3Li5iNjAzYWY3IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9zb2MvbWVkaWF0ZWsv
bXRrLXNjcHN5cy5jDQorKysgYi9kcml2ZXJzL3NvYy9tZWRpYXRlay9tdGstc2Nwc3lzLmMNCkBA
IC0xMCw4ICsxMCw4IEBADQogI2luY2x1ZGUgPGxpbnV4L29mX2RldmljZS5oPg0KICNpbmNsdWRl
IDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4NCiAjaW5jbHVkZSA8bGludXgvcG1fZG9tYWluLmg+
DQorI2luY2x1ZGUgPGxpbnV4L3JlZ21hcC5oPg0KICNpbmNsdWRlIDxsaW51eC9yZWd1bGF0b3Iv
Y29uc3VtZXIuaD4NCi0jaW5jbHVkZSA8bGludXgvc29jL21lZGlhdGVrL2luZnJhY2ZnLmg+DQog
DQogI2luY2x1ZGUgPGR0LWJpbmRpbmdzL3Bvd2VyL210MjcwMS1wb3dlci5oPg0KICNpbmNsdWRl
IDxkdC1iaW5kaW5ncy9wb3dlci9tdDI3MTItcG93ZXIuaD4NCkBAIC03OCw2ICs3OCwyOSBAQA0K
ICNkZWZpbmUgUFdSX1NUQVRVU19ISUYxCQkJQklUKDI2KQkvKiBNVDc2MjIgKi8NCiAjZGVmaW5l
IFBXUl9TVEFUVVNfV0IJCQlCSVQoMjcpCS8qIE1UNzYyMiAqLw0KIA0KKyNkZWZpbmUgSU5GUkFf
VE9QQVhJX1BST1RFQ1RFTgkJMHgwMjIwDQorI2RlZmluZSBJTkZSQV9UT1BBWElfUFJPVEVDVFNU
QTEJMHgwMjI4DQorI2RlZmluZSBJTkZSQV9UT1BBWElfUFJPVEVDVEVOX1NFVAkweDAyNjANCisj
ZGVmaW5lIElORlJBX1RPUEFYSV9QUk9URUNURU5fQ0xSCTB4MDI2NA0KKw0KKyNkZWZpbmUgTVQy
NzAxX1RPUF9BWElfUFJPVF9FTl9NTV9NMAkJQklUKDEpDQorI2RlZmluZSBNVDI3MDFfVE9QX0FY
SV9QUk9UX0VOX0NPTk5fTQkJQklUKDIpDQorI2RlZmluZSBNVDI3MDFfVE9QX0FYSV9QUk9UX0VO
X0NPTk5fUwkJQklUKDgpDQorDQorI2RlZmluZSBNVDc2MjJfVE9QX0FYSV9QUk9UX0VOX0VUSFNZ
UwkJKEJJVCgzKSB8IEJJVCgxNykpDQorI2RlZmluZSBNVDc2MjJfVE9QX0FYSV9QUk9UX0VOX0hJ
RjAJCShCSVQoMjQpIHwgQklUKDI1KSkNCisjZGVmaW5lIE1UNzYyMl9UT1BfQVhJX1BST1RfRU5f
SElGMQkJKEJJVCgyNikgfCBCSVQoMjcpIHwgXA0KKwkJCQkJCSBCSVQoMjgpKQ0KKyNkZWZpbmUg
TVQ3NjIyX1RPUF9BWElfUFJPVF9FTl9XQgkJKEJJVCgyKSB8IEJJVCg2KSB8IFwNCisJCQkJCQkg
QklUKDcpIHwgQklUKDgpKQ0KKw0KKyNkZWZpbmUgTVQ4MTczX1RPUF9BWElfUFJPVF9FTl9NTV9N
MAkJQklUKDEpDQorI2RlZmluZSBNVDgxNzNfVE9QX0FYSV9QUk9UX0VOX01NX00xCQlCSVQoMikN
CisjZGVmaW5lIE1UODE3M19UT1BfQVhJX1BST1RfRU5fTUZHX1MJCUJJVCgxNCkNCisjZGVmaW5l
IE1UODE3M19UT1BfQVhJX1BST1RfRU5fTUZHX00wCQlCSVQoMjEpDQorI2RlZmluZSBNVDgxNzNf
VE9QX0FYSV9QUk9UX0VOX01GR19NMQkJQklUKDIyKQ0KKyNkZWZpbmUgTVQ4MTczX1RPUF9BWElf
UFJPVF9FTl9NRkdfU05PT1BfT1VUCUJJVCgyMykNCisNCiAjZGVmaW5lIE1BWF9DTEtTCTMNCiAN
CiAvKioNCkBAIC0yNTEsMjUgKzI3NCw1MCBAQCBzdGF0aWMgaW50IHNjcHN5c19zcmFtX2Rpc2Fi
bGUoc3RydWN0IHNjcF9kb21haW4gKnNjcGQsIHZvaWQgX19pb21lbSAqY3RsX2FkZHIpDQogc3Rh
dGljIGludCBzY3BzeXNfYnVzX3Byb3RlY3RfZW5hYmxlKHN0cnVjdCBzY3BfZG9tYWluICpzY3Bk
KQ0KIHsNCiAJc3RydWN0IHNjcCAqc2NwID0gc2NwZC0+c2NwOw0KKwlzdHJ1Y3QgcmVnbWFwICpp
bmZyYWNmZyA9IHNjcC0+aW5mcmFjZmc7DQorCXUzMiBtYXNrID0gc2NwZC0+ZGF0YS0+YnVzX3By
b3RfbWFzazsNCisJYm9vbCByZWdfdXBkYXRlID0gc2NwLT5idXNfcHJvdF9yZWdfdXBkYXRlOw0K
Kwl1MzIgdmFsOw0KKwlpbnQgcmV0Ow0KIA0KLQlpZiAoIXNjcGQtPmRhdGEtPmJ1c19wcm90X21h
c2spDQorCWlmICghbWFzaykNCiAJCXJldHVybiAwOw0KIA0KLQlyZXR1cm4gbXRrX2luZnJhY2Zn
X3NldF9idXNfcHJvdGVjdGlvbihzY3AtPmluZnJhY2ZnLA0KLQkJCXNjcGQtPmRhdGEtPmJ1c19w
cm90X21hc2ssDQotCQkJc2NwLT5idXNfcHJvdF9yZWdfdXBkYXRlKTsNCisJaWYgKHJlZ191cGRh
dGUpDQorCQlyZWdtYXBfdXBkYXRlX2JpdHMoaW5mcmFjZmcsIElORlJBX1RPUEFYSV9QUk9URUNU
RU4sIG1hc2ssDQorCQkJCW1hc2spOw0KKwllbHNlDQorCQlyZWdtYXBfd3JpdGUoaW5mcmFjZmcs
IElORlJBX1RPUEFYSV9QUk9URUNURU5fU0VULCBtYXNrKTsNCisNCisJcmV0ID0gcmVnbWFwX3Jl
YWRfcG9sbF90aW1lb3V0KGluZnJhY2ZnLCBJTkZSQV9UT1BBWElfUFJPVEVDVFNUQTEsDQorCQkJ
CSAgICAgICB2YWwsICh2YWwgJiBtYXNrKSA9PSBtYXNrLA0KKwkJCQkgICAgICAgTVRLX1BPTExf
REVMQVlfVVMsIE1US19QT0xMX1RJTUVPVVQpOw0KKw0KKwlyZXR1cm4gcmV0Ow0KIH0NCiANCiBz
dGF0aWMgaW50IHNjcHN5c19idXNfcHJvdGVjdF9kaXNhYmxlKHN0cnVjdCBzY3BfZG9tYWluICpz
Y3BkKQ0KIHsNCiAJc3RydWN0IHNjcCAqc2NwID0gc2NwZC0+c2NwOw0KKwlzdHJ1Y3QgcmVnbWFw
ICppbmZyYWNmZyA9IHNjcC0+aW5mcmFjZmc7DQorCXUzMiBtYXNrID0gc2NwZC0+ZGF0YS0+YnVz
X3Byb3RfbWFzazsNCisJYm9vbCByZWdfdXBkYXRlID0gc2NwLT5idXNfcHJvdF9yZWdfdXBkYXRl
Ow0KKwl1MzIgdmFsOw0KKwlpbnQgcmV0Ow0KIA0KLQlpZiAoIXNjcGQtPmRhdGEtPmJ1c19wcm90
X21hc2spDQorCWlmICghbWFzaykNCiAJCXJldHVybiAwOw0KIA0KLQlyZXR1cm4gbXRrX2luZnJh
Y2ZnX2NsZWFyX2J1c19wcm90ZWN0aW9uKHNjcC0+aW5mcmFjZmcsDQotCQkJc2NwZC0+ZGF0YS0+
YnVzX3Byb3RfbWFzaywNCi0JCQlzY3AtPmJ1c19wcm90X3JlZ191cGRhdGUpOw0KKwlpZiAocmVn
X3VwZGF0ZSkNCisJCXJlZ21hcF91cGRhdGVfYml0cyhpbmZyYWNmZywgSU5GUkFfVE9QQVhJX1BS
T1RFQ1RFTiwgbWFzaywgMCk7DQorCWVsc2UNCisJCXJlZ21hcF93cml0ZShpbmZyYWNmZywgSU5G
UkFfVE9QQVhJX1BST1RFQ1RFTl9DTFIsIG1hc2spOw0KKw0KKwlyZXQgPSByZWdtYXBfcmVhZF9w
b2xsX3RpbWVvdXQoaW5mcmFjZmcsIElORlJBX1RPUEFYSV9QUk9URUNUU1RBMSwNCisJCQkJICAg
ICAgIHZhbCwgISh2YWwgJiBtYXNrKSwNCisJCQkJICAgICAgIE1US19QT0xMX0RFTEFZX1VTLCBN
VEtfUE9MTF9USU1FT1VUKTsNCisNCisJcmV0dXJuIHJldDsNCiB9DQogDQogc3RhdGljIGludCBz
Y3BzeXNfcG93ZXJfb24oc3RydWN0IGdlbmVyaWNfcG1fZG9tYWluICpnZW5wZCkNCmRpZmYgLS1n
aXQgYS9pbmNsdWRlL2xpbnV4L3NvYy9tZWRpYXRlay9pbmZyYWNmZy5oIGIvaW5jbHVkZS9saW51
eC9zb2MvbWVkaWF0ZWsvaW5mcmFjZmcuaA0KZGVsZXRlZCBmaWxlIG1vZGUgMTAwNjQ0DQppbmRl
eCBmZDI1ZjAxLi4wMDAwMDAwDQotLS0gYS9pbmNsdWRlL2xpbnV4L3NvYy9tZWRpYXRlay9pbmZy
YWNmZy5oDQorKysgL2Rldi9udWxsDQpAQCAtMSwzOSArMCwwIEBADQotLyogU1BEWC1MaWNlbnNl
LUlkZW50aWZpZXI6IEdQTC0yLjAgKi8NCi0jaWZuZGVmIF9fU09DX01FRElBVEVLX0lORlJBQ0ZH
X0gNCi0jZGVmaW5lIF9fU09DX01FRElBVEVLX0lORlJBQ0ZHX0gNCi0NCi0jZGVmaW5lIE1UODE3
M19UT1BfQVhJX1BST1RfRU5fTUNJX00yCQlCSVQoMCkNCi0jZGVmaW5lIE1UODE3M19UT1BfQVhJ
X1BST1RfRU5fTU1fTTAJCUJJVCgxKQ0KLSNkZWZpbmUgTVQ4MTczX1RPUF9BWElfUFJPVF9FTl9N
TV9NMQkJQklUKDIpDQotI2RlZmluZSBNVDgxNzNfVE9QX0FYSV9QUk9UX0VOX01NQVBCX1MJCUJJ
VCg2KQ0KLSNkZWZpbmUgTVQ4MTczX1RPUF9BWElfUFJPVF9FTl9MMkNfTTIJCUJJVCg5KQ0KLSNk
ZWZpbmUgTVQ4MTczX1RPUF9BWElfUFJPVF9FTl9MMlNTX1NNSQkJQklUKDExKQ0KLSNkZWZpbmUg
TVQ4MTczX1RPUF9BWElfUFJPVF9FTl9MMlNTX0FERAkJQklUKDEyKQ0KLSNkZWZpbmUgTVQ4MTcz
X1RPUF9BWElfUFJPVF9FTl9DQ0lfTTIJCUJJVCgxMykNCi0jZGVmaW5lIE1UODE3M19UT1BfQVhJ
X1BST1RfRU5fTUZHX1MJCUJJVCgxNCkNCi0jZGVmaW5lIE1UODE3M19UT1BfQVhJX1BST1RfRU5f
UEVSSV9NMAkJQklUKDE1KQ0KLSNkZWZpbmUgTVQ4MTczX1RPUF9BWElfUFJPVF9FTl9QRVJJX00x
CQlCSVQoMTYpDQotI2RlZmluZSBNVDgxNzNfVE9QX0FYSV9QUk9UX0VOX0RFQlVHU1lTCQlCSVQo
MTcpDQotI2RlZmluZSBNVDgxNzNfVE9QX0FYSV9QUk9UX0VOX0NRX0RNQQkJQklUKDE4KQ0KLSNk
ZWZpbmUgTVQ4MTczX1RPUF9BWElfUFJPVF9FTl9HQ1BVCQlCSVQoMTkpDQotI2RlZmluZSBNVDgx
NzNfVE9QX0FYSV9QUk9UX0VOX0lPTU1VCQlCSVQoMjApDQotI2RlZmluZSBNVDgxNzNfVE9QX0FY
SV9QUk9UX0VOX01GR19NMAkJQklUKDIxKQ0KLSNkZWZpbmUgTVQ4MTczX1RPUF9BWElfUFJPVF9F
Tl9NRkdfTTEJCUJJVCgyMikNCi0jZGVmaW5lIE1UODE3M19UT1BfQVhJX1BST1RfRU5fTUZHX1NO
T09QX09VVAlCSVQoMjMpDQotDQotI2RlZmluZSBNVDI3MDFfVE9QX0FYSV9QUk9UX0VOX01NX00w
CQlCSVQoMSkNCi0jZGVmaW5lIE1UMjcwMV9UT1BfQVhJX1BST1RfRU5fQ09OTl9NCQlCSVQoMikN
Ci0jZGVmaW5lIE1UMjcwMV9UT1BfQVhJX1BST1RfRU5fQ09OTl9TCQlCSVQoOCkNCi0NCi0jZGVm
aW5lIE1UNzYyMl9UT1BfQVhJX1BST1RfRU5fRVRIU1lTCQkoQklUKDMpIHwgQklUKDE3KSkNCi0j
ZGVmaW5lIE1UNzYyMl9UT1BfQVhJX1BST1RfRU5fSElGMAkJKEJJVCgyNCkgfCBCSVQoMjUpKQ0K
LSNkZWZpbmUgTVQ3NjIyX1RPUF9BWElfUFJPVF9FTl9ISUYxCQkoQklUKDI2KSB8IEJJVCgyNykg
fCBcDQotCQkJCQkJIEJJVCgyOCkpDQotI2RlZmluZSBNVDc2MjJfVE9QX0FYSV9QUk9UX0VOX1dC
CQkoQklUKDIpIHwgQklUKDYpIHwgXA0KLQkJCQkJCSBCSVQoNykgfCBCSVQoOCkpDQotDQotaW50
IG10a19pbmZyYWNmZ19zZXRfYnVzX3Byb3RlY3Rpb24oc3RydWN0IHJlZ21hcCAqaW5mcmFjZmcs
IHUzMiBtYXNrLA0KLQkJYm9vbCByZWdfdXBkYXRlKTsNCi1pbnQgbXRrX2luZnJhY2ZnX2NsZWFy
X2J1c19wcm90ZWN0aW9uKHN0cnVjdCByZWdtYXAgKmluZnJhY2ZnLCB1MzIgbWFzaywNCi0JCWJv
b2wgcmVnX3VwZGF0ZSk7DQotI2VuZGlmIC8qIF9fU09DX01FRElBVEVLX0lORlJBQ0ZHX0ggKi8N
Ci0tIA0KMS44LjEuMS5kaXJ0eQ0K

