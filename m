Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 0FD751B6FD7
	for <lists+linux-kernel@lfdr.de>; Fri, 24 Apr 2020 10:35:55 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726698AbgDXIfp (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Fri, 24 Apr 2020 04:35:45 -0400
Received: from mx2.suse.de ([195.135.220.15]:36120 "EHLO mx2.suse.de"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1726317AbgDXIfp (ORCPT <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 24 Apr 2020 04:35:45 -0400
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
        by mx2.suse.de (Postfix) with ESMTP id 92BFAAC52;
        Fri, 24 Apr 2020 08:35:42 +0000 (UTC)
Date:   Fri, 24 Apr 2020 10:35:42 +0200
Message-ID: <s5hwo65s2ld.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Linus Torvalds <torvalds@linux-foundation.org>
Cc:     Mark Brown <broonie@kernel.org>,
        Liam Girdwood <lgirdwood@gmail.com>,
        Linux Kernel Mailing List <linux-kernel@vger.kernel.org>
Subject: [GIT PULL] sound fixes for 5.7-rc3
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

Linus,

please pull sound fixes for v5.7-rc3 from:

  git://git.kernel.org/pub/scm/linux/kernel/git/tiwai/sound.git tags/sound-5.7-rc3

The topmost commit is 8d6762af302d69f76fa788a277a56a9d9cd275d5

----------------------------------------------------------------

sound fixes for 5.7-rc3

This became a slightly big pull request, as the accumulated ASoC
fixes are included here.  Some highlights:

- Revert of ASoC DAI startup changes that caused regression on some
  x86 platforms

- Regression fix in HD-audio power management and driver blacklist

- A collection of ASoC DAPM and topology fixes

- Continued USB-audio fixes and quirks

- Lots of small device-specific fixes

- Rockchip S/PDIF DT stuff update for validation issues

----------------------------------------------------------------

Akshu Agrawal (1):
      ASoC: amd: Fix button configuration

Alexander Tsoy (2):
      ALSA: usb-audio: Filter out unsupported sample rates on Focusrite devices
      ALSA: usb-audio: Apply async workaround for Scarlett 2i4 2nd gen

Amadeusz Sławiński (8):
      ASoC: topology: Add missing memory checks
      ASoC: topology: Check return value of soc_tplg_create_tlv
      ASoC: topology: Check return value of soc_tplg_*_create
      ASoC: topology: Check soc_tplg_add_route return value
      ASoC: topology: Check return value of pcm_new_ver
      ASoC: topology: Check return value of soc_tplg_dai_config
      ASoC: topology: Fix endianness issue
      ASoC: codecs: hdac_hdmi: Fix incorrect use of list_for_each_entry

Bjorn Andersson (1):
      ASoC: qcom: common: Silence duplicate parse error messages

Charles Keepax (4):
      ASoC: dapm: Fix regression introducing multiple copies of DAI widgets
      ASoC: dapm: Move error message to avoid some duplication
      ASoC: dapm: Remove dapm_connect_dai_link_widgets helper
      ASoC: madera: Remove a couple of stray blank lines

Gregor Pintar (1):
      ALSA: usb-audio: Add quirk for Focusrite Scarlett 2i2

Gyeongtaek Lee (1):
      ASoC: dapm: fixup dapm kcontrol widget

Jason Yan (2):
      ASoC: intel: soc-acpi-intel-icl-match: remove useless 'rt1308_2_adr'
      ASoC: Intel: soc-acpi-intel-cml-match: remove useless 'rt1308_2_adr'

Jerome Brunet (2):
      ASoC: meson: axg-card: fix codec-to-codec link setup
      ASoC: meson: gx-card: fix codec-to-codec link setup

Johan Jonker (4):
      ASoC: convert rockchip spdif bindings to yaml
      ASoC: rockchip-spdif: add #sound-dai-cells property
      ASoC: rockchip-spdif: add power-domains property
      ASoC: rockchip-i2s: add power-domains property

Kailang Yang (1):
      ALSA: hda/realtek - Add new codec supported for ALC245

Krzysztof Kozlowski (1):
      ASoC: samsung: s3c24xx-i2s: Fix build after removal of DAI suspend/resume

Matthias Blankertz (4):
      ASoC: rsnd: Fix parent SSI start/stop in multi-SSI mode
      ASoC: rsnd: Fix HDMI channel mapping for multi-SSI mode
      ASoC: rsnd: Don't treat master SSI in multi SSI setup as parent
      ASoC: rsnd: Fix "status check failed" spam for multi-SSI

Olivier Moysan (1):
      ASoC: stm32: sai: fix sai probe

Philipp Puschmann (1):
      ASoC: tas571x: disable regulators on failed probe

Pierre-Louis Bossart (2):
      ASoC: soc-dai: revert all changes to DAI startup/shutdown sequence
      ASoC: SOF: Intel: add min/max channels for SSP on Baytrail/Broadwell

Sebastian Fricke (1):
      soc/stm/stm32_sub_sai: Add missing '\n' in log messages

Sebastian Reichel (1):
      ASoC: sgtl5000: Fix VAG power-on handling

Shengjiu Wang (1):
      ASoC: wm8960: Fix wrong clock after suspend & resume

Srinivas Kandagatla (1):
      ASoC: wsa881x: mark read_only_wordlength flag

Stephan Gerhold (2):
      ASoC: soc-pcm: dpcm: Only allow playback/capture if supported
      ASoC: q6dsp6: q6afe-dai: add missing channels to MI2S DAIs

Takashi Iwai (7):
      ALSA: hda/hdmi: Add module option to disable audio component binding
      ALSA: hda/realtek - Fix unexpected init_amp override
      ALSA: hda: Remove ASUS ROG Zenith from the blacklist
      ALSA: usb-audio: Add static mapping table for ALC1220-VB-based mobos
      ALSA: usx2y: Fix potential NULL dereference
      ALSA: usb-audio: Add connector notifier delegation
      ALSA: hda: Always use jackpoll helper for jack update after resume

Xiyu Yang (1):
      ALSA: usb-audio: Fix usb audio refcnt leak when getting spdif

YueHaibing (1):
      ASoC: wm89xx: Add missing dependency

---
 .../devicetree/bindings/sound/rockchip-i2s.yaml    |   3 +
 .../devicetree/bindings/sound/rockchip-spdif.txt   |  45 -------
 .../devicetree/bindings/sound/rockchip-spdif.yaml  | 101 ++++++++++++++
 include/sound/soc-dai.h                            |   1 -
 include/sound/soc.h                                |   3 +
 sound/pci/hda/hda_codec.c                          |  28 ++--
 sound/pci/hda/hda_intel.c                          |  18 +--
 sound/pci/hda/patch_hdmi.c                         |   9 ++
 sound/pci/hda/patch_realtek.c                      |  11 +-
 sound/soc/amd/acp3x-rt5682-max9836.c               |   6 +-
 sound/soc/codecs/Kconfig                           |   3 +
 sound/soc/codecs/hdac_hdmi.c                       |   6 +-
 sound/soc/codecs/madera.c                          |   4 -
 sound/soc/codecs/sgtl5000.c                        |  34 +++++
 sound/soc/codecs/sgtl5000.h                        |   1 +
 sound/soc/codecs/tas571x.c                         |  20 ++-
 sound/soc/codecs/wm8960.c                          |   3 +-
 sound/soc/codecs/wsa881x.c                         |   4 +
 sound/soc/intel/common/soc-acpi-intel-cml-match.c  |   8 --
 sound/soc/intel/common/soc-acpi-intel-icl-match.c  |   8 --
 sound/soc/meson/axg-card.c                         |   4 +-
 sound/soc/meson/gx-card.c                          |   4 +-
 sound/soc/qcom/apq8096.c                           |   4 +-
 sound/soc/qcom/qdsp6/q6afe-dai.c                   |  16 +++
 sound/soc/qcom/sdm845.c                            |   4 +-
 sound/soc/samsung/s3c-i2s-v2.c                     |  57 --------
 sound/soc/samsung/s3c2412-i2s.c                    |  56 ++++++++
 sound/soc/sh/rcar/ssi.c                            |  11 +-
 sound/soc/sh/rcar/ssiu.c                           |   2 +-
 sound/soc/soc-dai.c                                |  11 +-
 sound/soc/soc-dapm.c                               | 147 +++++++++++----------
 sound/soc/soc-pcm.c                                |  13 +-
 sound/soc/soc-topology.c                           | 115 ++++++++++++----
 sound/soc/sof/intel/bdw.c                          |  16 +++
 sound/soc/sof/intel/byt.c                          |  48 +++++++
 sound/soc/stm/stm32_sai_sub.c                      |  14 +-
 sound/usb/format.c                                 |  51 +++++++
 sound/usb/mixer.c                                  |  37 +++++-
 sound/usb/mixer.h                                  |  10 ++
 sound/usb/mixer_maps.c                             |  37 +++++-
 sound/usb/mixer_quirks.c                           |  12 +-
 sound/usb/quirks-table.h                           |  98 ++------------
 sound/usb/quirks.c                                 |  14 ++
 sound/usb/usx2y/usbusx2yaudio.c                    |   2 +
 44 files changed, 712 insertions(+), 387 deletions(-)
 delete mode 100644 Documentation/devicetree/bindings/sound/rockchip-spdif.txt
 create mode 100644 Documentation/devicetree/bindings/sound/rockchip-spdif.yaml

