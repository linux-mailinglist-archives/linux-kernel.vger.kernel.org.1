Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 84C90295E93
	for <lists+linux-kernel@lfdr.de>; Thu, 22 Oct 2020 14:39:17 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2898433AbgJVMjA (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Thu, 22 Oct 2020 08:39:00 -0400
Received: from mailgw02.mediatek.com ([210.61.82.184]:33670 "EHLO
        mailgw02.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S2898366AbgJVMiR (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Thu, 22 Oct 2020 08:38:17 -0400
X-UUID: 22fa029af0da4ff99d24b65e88193a96-20201022
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-ID:Date:Subject:CC:To:From; bh=cbiLcVHdyIrbdrGgyYUV3TigPMYWkYeryLpwed5Mfew=;
        b=ZpmPknp8g8wHhi2BGrcrSFaM2CkgTIHsp04SIajoHRfqIU192QgW7g8EhJDXD+wDSu3oRZ2gB8IjylIROwwM4ZmYR56P9wLRHIAAgM5+defPcgaLXw8bm3+olK0F52DjbX5Y62p+bqkbnvpmkaTG0cBjBz1mbMGT9BMw7XlDvK4=;
X-UUID: 22fa029af0da4ff99d24b65e88193a96-20201022
Received: from mtkcas10.mediatek.inc [(172.21.101.39)] by mailgw02.mediatek.com
        (envelope-from <weiyi.lu@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.14 Build 0819 with TLSv1.2 ECDHE-RSA-AES256-SHA384 256/256)
        with ESMTP id 374214686; Thu, 22 Oct 2020 20:37:57 +0800
Received: from mtkcas10.mediatek.inc (172.21.101.39) by
 mtkmbs07n1.mediatek.inc (172.21.101.16) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Thu, 22 Oct 2020 20:37:56 +0800
Received: from mtksdccf07.mediatek.inc (172.21.84.99) by mtkcas10.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Thu, 22 Oct 2020 20:37:56 +0800
From:   Weiyi Lu <weiyi.lu@mediatek.com>
To:     Matthias Brugger <matthias.bgg@gmail.com>,
        Rob Herring <robh@kernel.org>, Stephen Boyd <sboyd@kernel.org>,
        Nicolas Boichat <drinkcat@chromium.org>
CC:     <linux-arm-kernel@lists.infradead.org>,
        <linux-kernel@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>, <linux-clk@vger.kernel.org>,
        <srv_heupstream@mediatek.com>, Weiyi Lu <weiyi.lu@mediatek.com>
Subject: [PATCH v4 28/34] clk: mediatek: Add MT8192 mmsys clock support
Date:   Thu, 22 Oct 2020 20:37:21 +0800
Message-ID: <1603370247-30437-29-git-send-email-weiyi.lu@mediatek.com>
X-Mailer: git-send-email 1.8.1.1.dirty
In-Reply-To: <1603370247-30437-1-git-send-email-weiyi.lu@mediatek.com>
References: <1603370247-30437-1-git-send-email-weiyi.lu@mediatek.com>
MIME-Version: 1.0
Content-Type: text/plain
X-MTK:  N
Content-Transfer-Encoding: base64
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

QWRkIE1UODE5MiBtbXN5cyBjbG9jayBwcm92aWRlcg0KDQpTaWduZWQtb2ZmLWJ5OiBXZWl5aSBM
dSA8d2VpeWkubHVAbWVkaWF0ZWsuY29tPg0KLS0tDQogZHJpdmVycy9jbGsvbWVkaWF0ZWsvS2Nv
bmZpZyAgICAgICAgIHwgICA2ICsrDQogZHJpdmVycy9jbGsvbWVkaWF0ZWsvTWFrZWZpbGUgICAg
ICAgIHwgICAxICsNCiBkcml2ZXJzL2Nsay9tZWRpYXRlay9jbGstbXQ4MTkyLW1tLmMgfCAxMDgg
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysNCiAzIGZpbGVzIGNoYW5nZWQsIDEx
NSBpbnNlcnRpb25zKCspDQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvY2xrL21lZGlhdGVr
L2Nsay1tdDgxOTItbW0uYw0KDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9jbGsvbWVkaWF0ZWsvS2Nv
bmZpZyBiL2RyaXZlcnMvY2xrL21lZGlhdGVrL0tjb25maWcNCmluZGV4IDM0ZjliMGQuLjIxOGQy
M2YgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2Nsay9tZWRpYXRlay9LY29uZmlnDQorKysgYi9kcml2
ZXJzL2Nsay9tZWRpYXRlay9LY29uZmlnDQpAQCAtNTQ1LDYgKzU0NSwxMiBAQCBjb25maWcgQ09N
TU9OX0NMS19NVDgxOTJfTUZHQ0ZHDQogCWhlbHANCiAJICBUaGlzIGRyaXZlciBzdXBwb3J0cyBN
ZWRpYVRlayBNVDgxOTIgbWZnY2ZnIGNsb2Nrcy4NCiANCitjb25maWcgQ09NTU9OX0NMS19NVDgx
OTJfTU1TWVMNCisJYm9vbCAiQ2xvY2sgZHJpdmVyIGZvciBNZWRpYVRlayBNVDgxOTIgbW1zeXMi
DQorCWRlcGVuZHMgb24gQ09NTU9OX0NMS19NVDgxOTINCisJaGVscA0KKwkgIFRoaXMgZHJpdmVy
IHN1cHBvcnRzIE1lZGlhVGVrIE1UODE5MiBtbXN5cyBjbG9ja3MuDQorDQogY29uZmlnIENPTU1P
Tl9DTEtfTVQ4NTE2DQogCWJvb2wgIkNsb2NrIGRyaXZlciBmb3IgTWVkaWFUZWsgTVQ4NTE2Ig0K
IAlkZXBlbmRzIG9uIEFSQ0hfTUVESUFURUsgfHwgQ09NUElMRV9URVNUDQpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9jbGsvbWVkaWF0ZWsvTWFrZWZpbGUgYi9kcml2ZXJzL2Nsay9tZWRpYXRlay9NYWtl
ZmlsZQ0KaW5kZXggYTJiYjAwOS4uODc4NjhmNyAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvY2xrL21l
ZGlhdGVrL01ha2VmaWxlDQorKysgYi9kcml2ZXJzL2Nsay9tZWRpYXRlay9NYWtlZmlsZQ0KQEAg
LTc4LDUgKzc4LDYgQEAgb2JqLSQoQ09ORklHX0NPTU1PTl9DTEtfTVQ4MTkyX0lNUF9JSUNfV1JB
UF9XUykgKz0gY2xrLW10ODE5Mi1pbXBfaWljX3dyYXBfd3Mubw0KIG9iai0kKENPTkZJR19DT01N
T05fQ0xLX01UODE5Ml9JUEVTWVMpICs9IGNsay1tdDgxOTItaXBlLm8NCiBvYmotJChDT05GSUdf
Q09NTU9OX0NMS19NVDgxOTJfTURQU1lTKSArPSBjbGstbXQ4MTkyLW1kcC5vDQogb2JqLSQoQ09O
RklHX0NPTU1PTl9DTEtfTVQ4MTkyX01GR0NGRykgKz0gY2xrLW10ODE5Mi1tZmcubw0KK29iai0k
KENPTkZJR19DT01NT05fQ0xLX01UODE5Ml9NTVNZUykgKz0gY2xrLW10ODE5Mi1tbS5vDQogb2Jq
LSQoQ09ORklHX0NPTU1PTl9DTEtfTVQ4NTE2KSArPSBjbGstbXQ4NTE2Lm8NCiBvYmotJChDT05G
SUdfQ09NTU9OX0NMS19NVDg1MTZfQVVEU1lTKSArPSBjbGstbXQ4NTE2LWF1ZC5vDQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9jbGsvbWVkaWF0ZWsvY2xrLW10ODE5Mi1tbS5jIGIvZHJpdmVycy9jbGsv
bWVkaWF0ZWsvY2xrLW10ODE5Mi1tbS5jDQpuZXcgZmlsZSBtb2RlIDEwMDY0NA0KaW5kZXggMDAw
MDAwMC4uZGZkZmIyMQ0KLS0tIC9kZXYvbnVsbA0KKysrIGIvZHJpdmVycy9jbGsvbWVkaWF0ZWsv
Y2xrLW10ODE5Mi1tbS5jDQpAQCAtMCwwICsxLDEwOCBAQA0KKy8vIFNQRFgtTGljZW5zZS1JZGVu
dGlmaWVyOiBHUEwtMi4wLW9ubHkNCisvLw0KKy8vIENvcHlyaWdodCAoYykgMjAyMCBNZWRpYVRl
ayBJbmMuDQorLy8gQXV0aG9yOiBXZWl5aSBMdSA8d2VpeWkubHVAbWVkaWF0ZWsuY29tPg0KKw0K
KyNpbmNsdWRlIDxsaW51eC9jbGstcHJvdmlkZXIuaD4NCisjaW5jbHVkZSA8bGludXgvcGxhdGZv
cm1fZGV2aWNlLmg+DQorDQorI2luY2x1ZGUgImNsay1tdGsuaCINCisjaW5jbHVkZSAiY2xrLWdh
dGUuaCINCisNCisjaW5jbHVkZSA8ZHQtYmluZGluZ3MvY2xvY2svbXQ4MTkyLWNsay5oPg0KKw0K
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2dhdGVfcmVncyBtbTBfY2dfcmVncyA9IHsNCisJLnNl
dF9vZnMgPSAweDEwNCwNCisJLmNscl9vZnMgPSAweDEwOCwNCisJLnN0YV9vZnMgPSAweDEwMCwN
Cit9Ow0KKw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2dhdGVfcmVncyBtbTFfY2dfcmVncyA9
IHsNCisJLnNldF9vZnMgPSAweDExNCwNCisJLmNscl9vZnMgPSAweDExOCwNCisJLnN0YV9vZnMg
PSAweDExMCwNCit9Ow0KKw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2dhdGVfcmVncyBtbTJf
Y2dfcmVncyA9IHsNCisJLnNldF9vZnMgPSAweDFhNCwNCisJLmNscl9vZnMgPSAweDFhOCwNCisJ
LnN0YV9vZnMgPSAweDFhMCwNCit9Ow0KKw0KKyNkZWZpbmUgR0FURV9NTTAoX2lkLCBfbmFtZSwg
X3BhcmVudCwgX3NoaWZ0KQlcDQorCUdBVEVfTVRLKF9pZCwgX25hbWUsIF9wYXJlbnQsICZtbTBf
Y2dfcmVncywgX3NoaWZ0LCAmbXRrX2Nsa19nYXRlX29wc19zZXRjbHIpDQorDQorI2RlZmluZSBH
QVRFX01NMShfaWQsIF9uYW1lLCBfcGFyZW50LCBfc2hpZnQpCVwNCisJR0FURV9NVEsoX2lkLCBf
bmFtZSwgX3BhcmVudCwgJm1tMV9jZ19yZWdzLCBfc2hpZnQsICZtdGtfY2xrX2dhdGVfb3BzX3Nl
dGNscikNCisNCisjZGVmaW5lIEdBVEVfTU0yKF9pZCwgX25hbWUsIF9wYXJlbnQsIF9zaGlmdCkJ
XA0KKwlHQVRFX01USyhfaWQsIF9uYW1lLCBfcGFyZW50LCAmbW0yX2NnX3JlZ3MsIF9zaGlmdCwg
Jm10a19jbGtfZ2F0ZV9vcHNfc2V0Y2xyKQ0KKw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgbXRrX2dh
dGUgbW1fY2xrc1tdID0gew0KKwkvKiBNTTAgKi8NCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfTVVU
RVgwLCAibW1fZGlzcF9tdXRleDAiLCAiZGlzcF9zZWwiLCAwKSwNCisJR0FURV9NTTAoQ0xLX01N
X0RJU1BfQ09ORklHLCAibW1fZGlzcF9jb25maWciLCAiZGlzcF9zZWwiLCAxKSwNCisJR0FURV9N
TTAoQ0xLX01NX0RJU1BfT1ZMMCwgIm1tX2Rpc3Bfb3ZsMCIsICJkaXNwX3NlbCIsIDIpLA0KKwlH
QVRFX01NMChDTEtfTU1fRElTUF9SRE1BMCwgIm1tX2Rpc3BfcmRtYTAiLCAiZGlzcF9zZWwiLCAz
KSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfT1ZMMF8yTCwgIm1tX2Rpc3Bfb3ZsMF8ybCIsICJk
aXNwX3NlbCIsIDQpLA0KKwlHQVRFX01NMChDTEtfTU1fRElTUF9XRE1BMCwgIm1tX2Rpc3Bfd2Rt
YTAiLCAiZGlzcF9zZWwiLCA1KSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfVUZCQ19XRE1BMCwg
Im1tX2Rpc3BfdWZiY193ZG1hMCIsICJkaXNwX3NlbCIsIDYpLA0KKwlHQVRFX01NMChDTEtfTU1f
RElTUF9SU1owLCAibW1fZGlzcF9yc3owIiwgImRpc3Bfc2VsIiwgNyksDQorCUdBVEVfTU0wKENM
S19NTV9ESVNQX0FBTDAsICJtbV9kaXNwX2FhbDAiLCAiZGlzcF9zZWwiLCA4KSwNCisJR0FURV9N
TTAoQ0xLX01NX0RJU1BfQ0NPUlIwLCAibW1fZGlzcF9jY29ycjAiLCAiZGlzcF9zZWwiLCA5KSwN
CisJR0FURV9NTTAoQ0xLX01NX0RJU1BfRElUSEVSMCwgIm1tX2Rpc3BfZGl0aGVyMCIsICJkaXNw
X3NlbCIsIDEwKSwNCisJR0FURV9NTTAoQ0xLX01NX1NNSV9JTkZSQSwgIm1tX3NtaV9pbmZyYSIs
ICJkaXNwX3NlbCIsIDExKSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1BfR0FNTUEwLCAibW1fZGlz
cF9nYW1tYTAiLCAiZGlzcF9zZWwiLCAxMiksDQorCUdBVEVfTU0wKENMS19NTV9ESVNQX1BPU1RN
QVNLMCwgIm1tX2Rpc3BfcG9zdG1hc2swIiwgImRpc3Bfc2VsIiwgMTMpLA0KKwlHQVRFX01NMChD
TEtfTU1fRElTUF9EU0NfV1JBUDAsICJtbV9kaXNwX2RzY193cmFwMCIsICJkaXNwX3NlbCIsIDE0
KSwNCisJR0FURV9NTTAoQ0xLX01NX0RTSTAsICJtbV9kc2kwIiwgImRpc3Bfc2VsIiwgMTUpLA0K
KwlHQVRFX01NMChDTEtfTU1fRElTUF9DT0xPUjAsICJtbV9kaXNwX2NvbG9yMCIsICJkaXNwX3Nl
bCIsIDE2KSwNCisJR0FURV9NTTAoQ0xLX01NX1NNSV9DT01NT04sICJtbV9zbWlfY29tbW9uIiwg
ImRpc3Bfc2VsIiwgMTcpLA0KKwlHQVRFX01NMChDTEtfTU1fRElTUF9GQUtFX0VORzAsICJtbV9k
aXNwX2Zha2VfZW5nMCIsICJkaXNwX3NlbCIsIDE4KSwNCisJR0FURV9NTTAoQ0xLX01NX0RJU1Bf
RkFLRV9FTkcxLCAibW1fZGlzcF9mYWtlX2VuZzEiLCAiZGlzcF9zZWwiLCAxOSksDQorCUdBVEVf
TU0wKENMS19NTV9NRFBfVERTSFA0LCAibW1fbWRwX3Rkc2hwNCIsICJkaXNwX3NlbCIsIDIwKSwN
CisJR0FURV9NTTAoQ0xLX01NX01EUF9SU1o0LCAibW1fbWRwX3JzejQiLCAiZGlzcF9zZWwiLCAy
MSksDQorCUdBVEVfTU0wKENMS19NTV9NRFBfQUFMNCwgIm1tX21kcF9hYWw0IiwgImRpc3Bfc2Vs
IiwgMjIpLA0KKwlHQVRFX01NMChDTEtfTU1fTURQX0hEUjQsICJtbV9tZHBfaGRyNCIsICJkaXNw
X3NlbCIsIDIzKSwNCisJR0FURV9NTTAoQ0xLX01NX01EUF9SRE1BNCwgIm1tX21kcF9yZG1hNCIs
ICJkaXNwX3NlbCIsIDI0KSwNCisJR0FURV9NTTAoQ0xLX01NX01EUF9DT0xPUjQsICJtbV9tZHBf
Y29sb3I0IiwgImRpc3Bfc2VsIiwgMjUpLA0KKwlHQVRFX01NMChDTEtfTU1fRElTUF9ZMlIwLCAi
bW1fZGlzcF95MnIwIiwgImRpc3Bfc2VsIiwgMjYpLA0KKwlHQVRFX01NMChDTEtfTU1fU01JX0dB
TFMsICJtbV9zbWlfZ2FscyIsICJkaXNwX3NlbCIsIDI3KSwNCisJR0FURV9NTTAoQ0xLX01NX0RJ
U1BfT1ZMMl8yTCwgIm1tX2Rpc3Bfb3ZsMl8ybCIsICJkaXNwX3NlbCIsIDI4KSwNCisJR0FURV9N
TTAoQ0xLX01NX0RJU1BfUkRNQTQsICJtbV9kaXNwX3JkbWE0IiwgImRpc3Bfc2VsIiwgMjkpLA0K
KwlHQVRFX01NMChDTEtfTU1fRElTUF9EUEkwLCAibW1fZGlzcF9kcGkwIiwgImRpc3Bfc2VsIiwg
MzApLA0KKwkvKiBNTTEgKi8NCisJR0FURV9NTTEoQ0xLX01NX1NNSV9JT01NVSwgIm1tX3NtaV9p
b21tdSIsICJkaXNwX3NlbCIsIDApLA0KKwkvKiBNTTIgKi8NCisJR0FURV9NTTIoQ0xLX01NX0RT
SV9EU0kwLCAibW1fZHNpX2RzaTAiLCAiZGlzcF9zZWwiLCAwKSwNCisJR0FURV9NTTIoQ0xLX01N
X0RQSV9EUEkwLCAibW1fZHBpX2RwaTAiLCAiZHBpX3NlbCIsIDgpLA0KKwlHQVRFX01NMihDTEtf
TU1fMjZNSFosICJtbV8yNm1oeiIsICJjbGsyNm0iLCAyNCksDQorCUdBVEVfTU0yKENMS19NTV8z
MktIWiwgIm1tXzMya2h6IiwgImNsazMyayIsIDI1KSwNCit9Ow0KKw0KK3N0YXRpYyBpbnQgY2xr
X210ODE5Ml9tbV9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0KK3sNCisJc3Ry
dWN0IGRldmljZSAqZGV2ID0gJnBkZXYtPmRldjsNCisJc3RydWN0IGRldmljZV9ub2RlICpub2Rl
ID0gZGV2LT5wYXJlbnQtPm9mX25vZGU7DQorCXN0cnVjdCBjbGtfb25lY2VsbF9kYXRhICpjbGtf
ZGF0YTsNCisJaW50IHI7DQorDQorCWNsa19kYXRhID0gbXRrX2FsbG9jX2Nsa19kYXRhKENMS19N
TV9OUl9DTEspOw0KKwlpZiAoIWNsa19kYXRhKQ0KKwkJcmV0dXJuIC1FTk9NRU07DQorDQorCXIg
PSBtdGtfY2xrX3JlZ2lzdGVyX2dhdGVzKG5vZGUsIG1tX2Nsa3MsIEFSUkFZX1NJWkUobW1fY2xr
cyksIGNsa19kYXRhKTsNCisJaWYgKHIpDQorCQlyZXR1cm4gcjsNCisNCisJcmV0dXJuIG9mX2Ns
a19hZGRfcHJvdmlkZXIobm9kZSwgb2ZfY2xrX3NyY19vbmVjZWxsX2dldCwgY2xrX2RhdGEpOw0K
K30NCisNCitzdGF0aWMgc3RydWN0IHBsYXRmb3JtX2RyaXZlciBjbGtfbXQ4MTkyX21tX2RydiA9
IHsNCisJLnByb2JlID0gY2xrX210ODE5Ml9tbV9wcm9iZSwNCisJLmRyaXZlciA9IHsNCisJCS5u
YW1lID0gImNsay1tdDgxOTItbW0iLA0KKwl9LA0KK307DQorDQorYnVpbHRpbl9wbGF0Zm9ybV9k
cml2ZXIoY2xrX210ODE5Ml9tbV9kcnYpOw0KLS0gDQoxLjguMS4xLmRpcnR5DQo=

