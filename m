Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 13BAF22A576
	for <lists+linux-kernel@lfdr.de>; Thu, 23 Jul 2020 05:02:07 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S2387587AbgGWDCA (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 22 Jul 2020 23:02:00 -0400
Received: from mailgw01.mediatek.com ([210.61.82.183]:57055 "EHLO
        mailgw01.mediatek.com" rhost-flags-OK-FAIL-OK-FAIL) by vger.kernel.org
        with ESMTP id S1728902AbgGWDCA (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 22 Jul 2020 23:02:00 -0400
X-UUID: de1a5a5b3a134aa3874a995dc0ce8108-20200723
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mediatek.com; s=dk;
        h=Content-Transfer-Encoding:MIME-Version:Content-Type:References:In-Reply-To:Date:CC:To:From:Subject:Message-ID; bh=9O8XoaZeH3e66A3ObWUvTLbY1MXbzjY3CXwiQeejPF4=;
        b=hH7VPHkVzH4QgHn0iyREOH/OoNlXWaYVOoBgnCqvaRHu1BxMr/qZ4j/c4//9HEnggviLFHwIbaz13CdzUqpBDMSGKU1GQVbH3vKxao70OgbqepLYVumczLN1xUS9EQRrx47j9LFij6g+vutmGcGzioTwKJJ4SsNOiWRYbKSxPto=;
X-UUID: de1a5a5b3a134aa3874a995dc0ce8108-20200723
Received: from mtkcas10.mediatek.inc [(172.21.101.39)] by mailgw01.mediatek.com
        (envelope-from <frankie.chang@mediatek.com>)
        (Cellopoint E-mail Firewall v4.1.10 Build 0809 with TLS)
        with ESMTP id 806167765; Thu, 23 Jul 2020 11:01:54 +0800
Received: from mtkcas08.mediatek.inc (172.21.101.126) by
 mtkmbs01n1.mediatek.inc (172.21.101.68) with Microsoft SMTP Server (TLS) id
 15.0.1497.2; Thu, 23 Jul 2020 11:01:52 +0800
Received: from [172.21.77.33] (172.21.77.33) by mtkcas08.mediatek.inc
 (172.21.101.73) with Microsoft SMTP Server id 15.0.1497.2 via Frontend
 Transport; Thu, 23 Jul 2020 11:01:52 +0800
Message-ID: <1595473313.5899.19.camel@mtkswgap22>
Subject: Re: [PATCH v5 3/3] binder: add transaction latency tracer
From:   Frankie Chang <Frankie.Chang@mediatek.com>
To:     Todd Kjos <tkjos@google.com>
CC:     Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        Joel Fernandes <joel@joelfernandes.org>,
        Martijn Coenen <maco@android.com>,
        Arve =?ISO-8859-1?Q?Hj=F8nnev=E5g?= <arve@android.com>,
        Christian Brauner <christian@brauner.io>,
        LKML <linux-kernel@vger.kernel.org>,
        <linux-mediatek@lists.infradead.org>,
        wsd_upstream <wsd_upstream@mediatek.com>,
        Jian-Min Liu <Jian-Min.Liu@mediatek.com>
Date:   Thu, 23 Jul 2020 11:01:53 +0800
In-Reply-To: <CAHRSSExO8uiwNELR+DjKYGEXO-Lr-0i8BBQDH5PwkxBVXiCtNw@mail.gmail.com>
References: <20200507085544.GB1097552@kroah.com>
         <1591791827-23871-1-git-send-email-Frankie.Chang@mediatek.com>
         <1591791827-23871-4-git-send-email-Frankie.Chang@mediatek.com>
         <CAHRSSExO8uiwNELR+DjKYGEXO-Lr-0i8BBQDH5PwkxBVXiCtNw@mail.gmail.com>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.2.3-0ubuntu6 
MIME-Version: 1.0
X-MTK:  N
Content-Transfer-Encoding: base64
Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

T24gTW9uLCAyMDIwLTA3LTIwIGF0IDExOjU2IC0wNzAwLCBUb2RkIEtqb3Mgd3JvdGU6DQo+IE9u
IFdlZCwgSnVuIDEwLCAyMDIwIGF0IDU6MzQgQU0gRnJhbmtpZSBDaGFuZw0KPiA8RnJhbmtpZS5D
aGFuZ0BtZWRpYXRlay5jb20+IHdyb3RlOg0KPiA+DQo+ID4gRnJvbTogIkZyYW5raWUuQ2hhbmci
IDxGcmFua2llLkNoYW5nQG1lZGlhdGVrLmNvbT4NCj4gPg0KPiA+IFJlY29yZCBzdGFydC9lbmQg
dGltZXN0YW1wIGZvciBiaW5kZXIgdHJhbnNhY3Rpb24uDQo+ID4gV2hlbiB0cmFuc2FjdGlvbiBp
cyBjb21wbGV0ZWQgb3IgdHJhbnNhY3Rpb24gaXMgZnJlZSwNCj4gPiBpdCB3b3VsZCBiZSBjaGVj
a2VkIGlmIHRyYW5zYWN0aW9uIGxhdGVuY3kgb3ZlciB0aHJlc2hvbGQgKDIgc2VjKSwNCj4gPiBp
ZiB5ZXMsIHByaW50aW5nIHJlbGF0ZWQgaW5mb3JtYXRpb24gZm9yIHRyYWNpbmcuDQo+ID4NCj4g
PiAvKiBJbXBsZW1lbnQgZGV0YWlscyAqLw0KPiA+IC0gQWRkIGxhdGVuY3kgdHJhY2VyIG1vZHVs
ZSB0byBtb25pdG9yIHRyYW5zYWN0aW9uDQo+ID4gICBieSBhdHRhY2hpbmcgdG8gbmV3IHRyYWNl
cG9pbnRzIGludHJvZHVjZWQNCj4gPiAgIHdoZW4gdHJhbnNhY3Rpb25zIGFyZSBhbGxvY2F0ZWQg
YW5kIGZyZWVkLg0KPiA+ICAgVGhlIHRyYWNlX2JpbmRlcl90eG5fbGF0ZW5jeV9mcmVlIHdvdWxk
IG5vdCBiZSBlbmFibGVkDQo+ID4gICBieSBkZWZhdWx0LiBNb25pdG9yaW5nIHdoaWNoIHRyYW5z
YWN0aW9uIGlzIHRvbyBzbG93IHRvDQo+ID4gICBjYXVzZSBzb21lIG9mIGV4Y2VwdGlvbnMgaXMg
aW1wb3J0YW50LiBTbyB3ZSBob29rIHRoZQ0KPiA+ICAgdHJhY2Vwb2ludCB0byBjYWxsIHRoZSBt
b25pdG9yIGZ1bmN0aW9uLg0KPiA+DQo+ID4gLSBTaW5jZSBzb21lIG9mIG1vZHVsZXMgd291bGQg
dHJpZ2dlciB0aW1lb3V0IE5FDQo+ID4gICBpZiB0aGVpciBiaW5kZXIgdHJhbnNhY3Rpb24gZG9u
J3QgZmluaXNoIGluIHRpbWUsDQo+ID4gICBzdWNoIGFzIGF1ZGlvIHRpbWVvdXQgKDUgc2VjKSwg
ZXZlbiBCVCBjb21tYW5kDQo+ID4gICB0aW1lb3V0ICgyIHNlYyksIGV0Yy4NCj4gPiAgIFRoZXJl
Zm9yZSwgc2V0dGluZyB0aGUgdGltZW91dCB0aHJlc2hvbGQgYXMgMiBzZWNvbmRzDQo+ID4gICBj
b3VsZCBiZSBoZWxwZnVsIHRvIGRlYnVnLg0KPiANCj4gQ291bGQgdGhlcmUgYmUgY2FzZXMgdGhh
dCA1MDBtcyBpcyB0b28gbG9uZyBzbyAxcyBzaG91bGQgYmUgdGhlDQo+IHRocmVzaG9sZD8gSGFy
ZCBjb2RlZCAyIHNlY29uZHMgbWFrZXMgdGhpcyBsZXNzIHVzZWZ1bC4gSG93IGFib3V0DQo+IG1h
a2luZyBpdCBjb25maWd1cmFibGUgd2l0aCBhIGRlZmF1bHQgb2YgMiBzZWM/DQo+IA0KT2theSwg
aXQgbWFrZXMgc2Vuc2UgdGhhdCBtYWtpbmcgdGhyZXNob2xkIGNvbmZpZ3VyYWJsZS4gV2Ugd2ls
bCBkbyBpdC4NCg0KPiA+DQo+ID4gLSBUaGUgcmVhc29uIHdoeSBwcmludGluZyB0aGUgcmVsYXRl
ZCBpbmZvcm1hdGlvbiB0bw0KPiA+ICAga2VybmVsIGluZm9ybWF0aW9uIGxvZyBidXQgbm90IHRy
YWNlIGJ1ZmZlciBpcyB0aGF0DQo+ID4gICBzb21lIGFibm9ybWFsIHRyYW5zYWN0aW9ucyBtYXkg
YmUgcGVuZGluZyBmb3IgYSBsb25nDQo+ID4gICB0aW1lIGFnbywgdGhleSBjb3VsZCBub3QgYmUg
cmVjb3JkZWQgZHVlIHRvIGJ1ZmZlcg0KPiA+ICAgbGltaXRlZC4NCj4gPg0KPiA+IFNpZ25lZC1v
ZmYtYnk6IEZyYW5raWUuQ2hhbmcgPEZyYW5raWUuQ2hhbmdAbWVkaWF0ZWsuY29tPg0KPiA+IC0t
LQ0KPiA+ICBkcml2ZXJzL2FuZHJvaWQvS2NvbmZpZyAgICAgICAgICAgICAgICAgfCAgICA4ICsr
Kw0KPiA+ICBkcml2ZXJzL2FuZHJvaWQvTWFrZWZpbGUgICAgICAgICAgICAgICAgfCAgICAxICsN
Cj4gPiAgZHJpdmVycy9hbmRyb2lkL2JpbmRlci5jICAgICAgICAgICAgICAgIHwgICAgMiArDQo+
ID4gIGRyaXZlcnMvYW5kcm9pZC9iaW5kZXJfaW50ZXJuYWwuaCAgICAgICB8ICAgMTMgKysrKw0K
PiA+ICBkcml2ZXJzL2FuZHJvaWQvYmluZGVyX2xhdGVuY3lfdHJhY2VyLmMgfCAgMTA3ICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysNCj4gPiAgZHJpdmVycy9hbmRyb2lkL2JpbmRlcl90
cmFjZS5oICAgICAgICAgIHwgICAyOCArKysrKysrLQ0KPiA+ICA2IGZpbGVzIGNoYW5nZWQsIDE1
NiBpbnNlcnRpb25zKCspLCAzIGRlbGV0aW9ucygtKQ0KPiA+ICBjcmVhdGUgbW9kZSAxMDA2NDQg
ZHJpdmVycy9hbmRyb2lkL2JpbmRlcl9sYXRlbmN5X3RyYWNlci5jDQo+ID4NCj4gPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9hbmRyb2lkL0tjb25maWcgYi9kcml2ZXJzL2FuZHJvaWQvS2NvbmZpZw0K
PiA+IGluZGV4IDZmZGYyYWIuLjM5ZDQ3YmUgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9hbmRy
b2lkL0tjb25maWcNCj4gPiArKysgYi9kcml2ZXJzL2FuZHJvaWQvS2NvbmZpZw0KPiA+IEBAIC01
NCw2ICs1NCwxNCBAQCBjb25maWcgQU5EUk9JRF9CSU5ERVJfSVBDX1NFTEZURVNUDQo+ID4gICAg
ICAgICAgIGV4aGF1c3RpdmVseSB3aXRoIGNvbWJpbmF0aW9ucyBvZiB2YXJpb3VzIGJ1ZmZlciBz
aXplcyBhbmQNCj4gPiAgICAgICAgICAgYWxpZ25tZW50cy4NCj4gPg0KPiA+ICtjb25maWcgQklO
REVSX1RSQU5TQUNUSU9OX0xBVEVOQ1lfVFJBQ0tJTkcNCj4gPiArICAgICAgIGJvb2wgIkFuZHJv
aWQgQmluZGVyIHRyYW5zYWN0aW9uIHRyYWNraW5nIg0KPiANCj4gQW55IHJlYXNvbiB0aGlzIGNh
bid0IGJlIHRyaXN0YXRlPw0KPiANCkl0IGNhbiBiZSB0cmlzdGF0ZSwgYW5kIHdlIHdvdWxkIGNo
YW5nZSAjaWZkZWYgdG8gI2lmIElTX0VOQUJMRUQoKQ0KDQo+ID4gKyAgICAgICBoZWxwDQo+ID4g
KyAgICAgICAgIFVzZWQgZm9yIHRyYWNrIGFibm9ybWFsIGJpbmRlciB0cmFuc2FjdGlvbiB3aGlj
aCBpcyBvdmVyIDIgc2Vjb25kcywNCj4gPiArICAgICAgICAgd2hlbiB0aGUgdHJhbnNhY3Rpb24g
aXMgZG9uZSBvciBiZSBmcmVlLCB0aGlzIHRyYW5zYWN0aW9uIHdvdWxkIGJlDQo+ID4gKyAgICAg
ICAgIGNoZWNrZWQgd2hldGhlciBpdCBleGVjdXRlZCBvdmVydGltZS4NCj4gPiArICAgICAgICAg
SWYgeWVzLCBwcmludGluZyBvdXQgdGhlIGRldGFpbGVkIGluZm8uDQo+ID4gKw0KPiA+ICBlbmRp
ZiAjIGlmIEFORFJPSUQNCj4gPg0KPiA+ICBlbmRtZW51DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvYW5kcm9pZC9NYWtlZmlsZSBiL2RyaXZlcnMvYW5kcm9pZC9NYWtlZmlsZQ0KPiA+IGluZGV4
IGM5ZDNkMGM5Li5jMmZmZGI2IDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvYW5kcm9pZC9NYWtl
ZmlsZQ0KPiA+ICsrKyBiL2RyaXZlcnMvYW5kcm9pZC9NYWtlZmlsZQ0KPiA+IEBAIC00LDMgKzQs
NCBAQCBjY2ZsYWdzLXkgKz0gLUkkKHNyYykgICAgICAgICAgICAgICAgICAgIyBuZWVkZWQgZm9y
IHRyYWNlIGV2ZW50cw0KPiA+ICBvYmotJChDT05GSUdfQU5EUk9JRF9CSU5ERVJGUykgICAgICAg
ICArPSBiaW5kZXJmcy5vDQo+ID4gIG9iai0kKENPTkZJR19BTkRST0lEX0JJTkRFUl9JUEMpICAg
ICAgICs9IGJpbmRlci5vIGJpbmRlcl9hbGxvYy5vDQo+ID4gIG9iai0kKENPTkZJR19BTkRST0lE
X0JJTkRFUl9JUENfU0VMRlRFU1QpICs9IGJpbmRlcl9hbGxvY19zZWxmdGVzdC5vDQo+ID4gK29i
ai0kKENPTkZJR19CSU5ERVJfVFJBTlNBQ1RJT05fTEFURU5DWV9UUkFDS0lORykgICAgICArPSBi
aW5kZXJfbGF0ZW5jeV90cmFjZXIubw0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2FuZHJvaWQv
YmluZGVyLmMgYi9kcml2ZXJzL2FuZHJvaWQvYmluZGVyLmMNCj4gPiBpbmRleCA1ZWM5YWY4Li44
NDZkNjliIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvYW5kcm9pZC9iaW5kZXIuYw0KPiA+ICsr
KyBiL2RyaXZlcnMvYW5kcm9pZC9iaW5kZXIuYw0KPiA+IEBAIC0yNjU3LDYgKzI2NTcsNyBAQCBz
dGF0aWMgdm9pZCBiaW5kZXJfdHJhbnNhY3Rpb24oc3RydWN0IGJpbmRlcl9wcm9jICpwcm9jLA0K
PiA+ICAgICAgICAgICAgICAgICByZXR1cm5fZXJyb3JfbGluZSA9IF9fTElORV9fOw0KPiA+ICAg
ICAgICAgICAgICAgICBnb3RvIGVycl9hbGxvY190X2ZhaWxlZDsNCj4gPiAgICAgICAgIH0NCj4g
PiArICAgICAgIHRyYWNlX2JpbmRlcl90eG5fbGF0ZW5jeV9hbGxvYyh0LCBlKTsNCj4gPiAgICAg
ICAgIElOSVRfTElTVF9IRUFEKCZ0LT5mZF9maXh1cHMpOw0KPiA+ICAgICAgICAgYmluZGVyX3N0
YXRzX2NyZWF0ZWQoQklOREVSX1NUQVRfVFJBTlNBQ1RJT04pOw0KPiA+ICAgICAgICAgc3Bpbl9s
b2NrX2luaXQoJnQtPmxvY2spOw0KPiA+IEBAIC01MTQ0LDYgKzUxNDUsNyBAQCBzdGF0aWMgdm9p
ZCBwcmludF9iaW5kZXJfdHJhbnNhY3Rpb25faWxvY2tlZChzdHJ1Y3Qgc2VxX2ZpbGUgKm0sDQo+
ID4gICAgICAgICAgICAgICAgICAgIHRvX3Byb2MgPyB0b19wcm9jLT5waWQgOiAwLA0KPiA+ICAg
ICAgICAgICAgICAgICAgICB0LT50b190aHJlYWQgPyB0LT50b190aHJlYWQtPnBpZCA6IDAsDQo+
ID4gICAgICAgICAgICAgICAgICAgIHQtPmNvZGUsIHQtPmZsYWdzLCB0LT5wcmlvcml0eSwgdC0+
bmVlZF9yZXBseSk7DQo+ID4gKyAgICAgICB0cmFjZV9iaW5kZXJfdHhuX2xhdGVuY3lfaW5mbyht
LCB0KTsNCj4gPiAgICAgICAgIHNwaW5fdW5sb2NrKCZ0LT5sb2NrKTsNCj4gPg0KPiA+ICAgICAg
ICAgaWYgKHByb2MgIT0gdG9fcHJvYykgew0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2FuZHJv
aWQvYmluZGVyX2ludGVybmFsLmggYi9kcml2ZXJzL2FuZHJvaWQvYmluZGVyX2ludGVybmFsLmgN
Cj4gPiBpbmRleCBlZDYxYjNlLi5iZWJjMTg1IDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvYW5k
cm9pZC9iaW5kZXJfaW50ZXJuYWwuaA0KPiA+ICsrKyBiL2RyaXZlcnMvYW5kcm9pZC9iaW5kZXJf
aW50ZXJuYWwuaA0KPiA+IEBAIC0xMiw2ICsxMiwxMSBAQA0KPiA+ICAjaW5jbHVkZSA8bGludXgv
dHlwZXMuaD4NCj4gPiAgI2luY2x1ZGUgPGxpbnV4L3VpZGdpZC5oPg0KPiA+DQo+ID4gKyNpZmRl
ZiBDT05GSUdfQklOREVSX1RSQU5TQUNUSU9OX0xBVEVOQ1lfVFJBQ0tJTkcNCj4gPiArI2luY2x1
ZGUgPGxpbnV4L3J0Yy5oPg0KPiA+ICsjaW5jbHVkZSA8bGludXgvdGltZS5oPg0KPiA+ICsjZW5k
aWYNCj4gPiArDQo+ID4gIHN0cnVjdCBiaW5kZXJfY29udGV4dCB7DQo+ID4gICAgICAgICBzdHJ1
Y3QgYmluZGVyX25vZGUgKmJpbmRlcl9jb250ZXh0X21ncl9ub2RlOw0KPiA+ICAgICAgICAgc3Ry
dWN0IG11dGV4IGNvbnRleHRfbWdyX25vZGVfbG9jazsNCj4gPiBAQCAtMTMxLDYgKzEzNiwxMCBA
QCBzdHJ1Y3QgYmluZGVyX3RyYW5zYWN0aW9uX2xvZ19lbnRyeSB7DQo+ID4gICAgICAgICB1aW50
MzJfdCByZXR1cm5fZXJyb3I7DQo+ID4gICAgICAgICB1aW50MzJfdCByZXR1cm5fZXJyb3JfcGFy
YW07DQo+ID4gICAgICAgICBjaGFyIGNvbnRleHRfbmFtZVtCSU5ERVJGU19NQVhfTkFNRSArIDFd
Ow0KPiA+ICsjaWZkZWYgQ09ORklHX0JJTkRFUl9UUkFOU0FDVElPTl9MQVRFTkNZX1RSQUNLSU5H
DQo+IA0KPiBJZiB5b3UgbWFrZSBiaW5kZXJfbGF0ZW5jeV90cmFjZXIgYSBtb2R1bGUsIHRoZW4g
d2UgY291bGQgaW5jbHVkZQ0KPiB0aGVzZSBmaWVsZHMgdW5jb25kaXRpb25hbGx5LiBQbGVhc2Ug
YWRkIGNvbW1lbnRzIG9yIGdpdmUgdGhlbSBiZXR0ZXINCj4gbmFtZXMgc28gaXQgaXMgb2J2aW91
cyB3aGF0IHRoZXkgYXJlIGZvci4NCj4gDQpXZSB3b3VsZCBhZGQgY29tbWVudHMgdG8gZXhwbGFp
biB3aGF0IHRoZXNlIHVzZWQgZm9yLg0KDQo+ID4gKyAgICAgICBzdHJ1Y3QgdGltZXNwZWMgdGlt
ZXN0YW1wOw0KPiA+ICsgICAgICAgc3RydWN0IHRpbWV2YWwgdHY7DQo+ID4gKyNlbmRpZg0KPiA+
ICB9Ow0KPiA+DQo+ID4gIHN0cnVjdCBiaW5kZXJfdHJhbnNhY3Rpb25fbG9nIHsNCj4gPiBAQCAt
NTIwLDYgKzUyOSwxMCBAQCBzdHJ1Y3QgYmluZGVyX3RyYW5zYWN0aW9uIHsNCj4gPiAgICAgICAg
ICAqIGR1cmluZyB0aHJlYWQgdGVhcmRvd24NCj4gPiAgICAgICAgICAqLw0KPiA+ICAgICAgICAg
c3BpbmxvY2tfdCBsb2NrOw0KPiA+ICsjaWZkZWYgQ09ORklHX0JJTkRFUl9UUkFOU0FDVElPTl9M
QVRFTkNZX1RSQUNLSU5HDQo+IA0KPiBJZiB5b3UgbWFrZSBiaW5kZXJfbGF0ZW5jeV90cmFjZXIg
YSBtb2R1bGUsIHRoZW4gd2UgY291bGQgaW5jbHVkZQ0KPiB0aGVzZSBmaWVsZHMgdW5jb25kaXRp
b25hbGx5LiBQbGVhc2UgYWRkIGNvbW1lbnRzIG9yIGdpdmUgdGhlbSBiZXR0ZXINCj4gbmFtZXMg
c28gaXQgaXMgb2J2aW91cyB3aGF0IHRoZXkgYXJlIGZvci4NCj4gDQpXZSB3b3VsZCBhZGQgY29t
bWVudHMgdG8gZXhwbGFpbiB3aGF0IHRoZXNlIHVzZWQgZm9yLg0KDQo+ID4gKyAgICAgICBzdHJ1
Y3QgdGltZXNwZWMgdGltZXN0YW1wOw0KPiA+ICsgICAgICAgc3RydWN0IHRpbWV2YWwgdHY7DQo+
ID4gKyNlbmRpZg0KPiA+ICB9Ow0KPiA+DQo+ID4gIC8qKg0KPiA+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2FuZHJvaWQvYmluZGVyX2xhdGVuY3lfdHJhY2VyLmMgYi9kcml2ZXJzL2FuZHJvaWQvYmlu
ZGVyX2xhdGVuY3lfdHJhY2VyLmMNCj4gPiBuZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiA+IGluZGV4
IDAwMDAwMDAuLjFiODk2MzQNCj4gPiAtLS0gL2Rldi9udWxsDQo+ID4gKysrIGIvZHJpdmVycy9h
bmRyb2lkL2JpbmRlcl9sYXRlbmN5X3RyYWNlci5jDQo+ID4gQEAgLTAsMCArMSwxMDcgQEANCj4g
PiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjANCj4gPiArLyoNCj4gPiArICog
Q29weXJpZ2h0IChDKSAyMDE5IE1lZGlhVGVrIEluYy4NCj4gPiArICovDQo+ID4gKw0KPiA+ICsj
aW5jbHVkZSA8bGludXgvbW9kdWxlLmg+DQo+ID4gKyNpbmNsdWRlIDx1YXBpL2xpbnV4L2FuZHJv
aWQvYmluZGVyLmg+DQo+ID4gKyNpbmNsdWRlICJiaW5kZXJfYWxsb2MuaCINCj4gPiArI2luY2x1
ZGUgImJpbmRlcl9pbnRlcm5hbC5oIg0KPiA+ICsjaW5jbHVkZSAiYmluZGVyX3RyYWNlLmgiDQo+
ID4gKw0KPiA+ICsvKg0KPiA+ICsgKiBwcm9iZV9iaW5kZXJfdHhuX2xhdGVuY3lfZnJlZSAtIE91
dHB1dCBpbmZvIG9mIGEgZGVsYXkgdHJhbnNhY3Rpb24NCj4gPiArICogQHQ6ICAgICAgICAgIHBv
aW50ZXIgdG8gdGhlIG92ZXItdGltZSB0cmFuc2FjdGlvbg0KPiA+ICsgKi8NCj4gPiArdm9pZCBw
cm9iZV9iaW5kZXJfdHhuX2xhdGVuY3lfZnJlZSh2b2lkICppZ25vcmUsIHN0cnVjdCBiaW5kZXJf
dHJhbnNhY3Rpb24gKnQpDQo+ID4gK3sNCj4gPiArICAgICAgIHN0cnVjdCBydGNfdGltZSB0bTsN
Cj4gPiArICAgICAgIHN0cnVjdCB0aW1lc3BlYyAqc3RhcnRpbWU7DQo+ID4gKyAgICAgICBzdHJ1
Y3QgdGltZXNwZWMgY3VyLCBzdWJfdDsNCj4gPiArDQo+ID4gKyAgICAgICBrdGltZV9nZXRfdHMo
JmN1cik7DQo+ID4gKyAgICAgICBzdGFydGltZSA9ICZ0LT50aW1lc3RhbXA7DQo+ID4gKyAgICAg
ICBzdWJfdCA9IHRpbWVzcGVjX3N1YihjdXIsICpzdGFydGltZSk7DQo+ID4gKw0KPiA+ICsgICAg
ICAgLyogaWYgdHJhbnNhY3Rpb24gdGltZSBpcyBvdmVyIHRoYW4gMiBzZWMsDQo+ID4gKyAgICAg
ICAgKiBzaG93IHRpbWVvdXQgd2FybmluZyBsb2cuDQo+ID4gKyAgICAgICAgKi8NCj4gPiArICAg
ICAgIGlmIChzdWJfdC50dl9zZWMgPCAyKQ0KPiA+ICsgICAgICAgICAgICAgICByZXR1cm47DQo+
IA0KPiBJIHN0aWxsIGRvbid0IGdldCB3aHkgMnNlYyBpcyBtYWdpY2FsLiBTaG91bGQgdGhpcyB0
aHJlc2hvbGQgYmUgY29uZmlndXJhYmxlPw0KPiANCk9rYXksIGl0IG1ha2VzIHNlbnNlIHRoYXQg
bWFraW5nIHRocmVzaG9sZCBjb25maWd1cmFibGUuIFdlIHdpbGwgZG8gaXQuDQoNCj4gPiArDQo+
ID4gKyAgICAgICBydGNfdGltZV90b190bSh0LT50di50dl9zZWMsICZ0bSk7DQo+ID4gKw0KPiA+
ICsgICAgICAgc3Bpbl9sb2NrKCZ0LT5sb2NrKTsNCj4gPiArICAgICAgIHByX2luZm9fcmF0ZWxp
bWl0ZWQoIiVkOiBmcm9tICVkOiVkIHRvICVkOiVkIiwNCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICB0LT5kZWJ1Z19pZCwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICB0LT5mcm9tID8g
dC0+ZnJvbS0+cHJvYy0+cGlkIDogMCwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICB0LT5m
cm9tID8gdC0+ZnJvbS0+cGlkIDogMCwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICB0LT50
b19wcm9jID8gdC0+dG9fcHJvYy0+cGlkIDogMCwNCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICB0LT50b190aHJlYWQgPyB0LT50b190aHJlYWQtPnBpZCA6IDApOw0KPiA+ICsNCj4gPiArICAg
ICAgIHByX2luZm9fcmF0ZWxpbWl0ZWQoIiB0b3RhbCAldS4lMDNsZCBzIGNvZGUgJXUgc3RhcnQg
JWx1LiUwM2xkIGFuZHJvaWQgJWQtJTAyZC0lMDJkICUwMmQ6JTAyZDolMDJkLiUwM2x1XG4iLA0K
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICh1bnNpZ25lZCBpbnQpc3ViX3QudHZfc2VjLA0K
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgIChzdWJfdC50dl9uc2VjIC8gTlNFQ19QRVJfTVNF
QyksDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgdC0+Y29kZSwNCj4gPiArICAgICAgICAg
ICAgICAgICAgICAgICAodW5zaWduZWQgbG9uZylzdGFydGltZS0+dHZfc2VjLA0KPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgIChzdGFydGltZS0+dHZfbnNlYyAvIE5TRUNfUEVSX01TRUMpLA0K
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICh0bS50bV95ZWFyICsgMTkwMCksICh0bS50bV9t
b24gKyAxKSwgdG0udG1fbWRheSwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICB0bS50bV9o
b3VyLCB0bS50bV9taW4sIHRtLnRtX3NlYywNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAo
dW5zaWduZWQgbG9uZykodC0+dHYudHZfdXNlYyAvIFVTRUNfUEVSX01TRUMpKTsNCj4gPiArICAg
ICAgIHNwaW5fdW5sb2NrKCZ0LT5sb2NrKTsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIHZv
aWQgcHJvYmVfYmluZGVyX3R4bl9sYXRlbmN5X2FsbG9jKHZvaWQgKmlnbm9yZSwNCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGJpbmRlcl90cmFuc2Fj
dGlvbiAqdCwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IGJpbmRlcl90cmFuc2FjdGlvbl9sb2dfZW50cnkgKmUpDQo+ID4gK3sNCj4gPiArICAgICAg
IGt0aW1lX2dldF90cygmZS0+dGltZXN0YW1wKTsNCj4gPiArICAgICAgIGRvX2dldHRpbWVvZmRh
eSgmZS0+dHYpOw0KPiA+ICsgICAgICAgZS0+dHYudHZfc2VjIC09IChzeXNfdHoudHpfbWludXRl
c3dlc3QgKiA2MCk7DQo+ID4gKyAgICAgICBzcGluX2xvY2soJnQtPmxvY2spOw0KPiA+ICsgICAg
ICAgbWVtY3B5KCZ0LT50aW1lc3RhbXAsICZlLT50aW1lc3RhbXAsIHNpemVvZihzdHJ1Y3QgdGlt
ZXNwZWMpKTsNCj4gPiArICAgICAgIG1lbWNweSgmdC0+dHYsICZlLT50diwgc2l6ZW9mKHN0cnVj
dCB0aW1ldmFsKSk7DQo+ID4gKyAgICAgICBzcGluX3VubG9jaygmdC0+bG9jayk7DQo+IA0KPiBX
aHkgaXMgdGhlIGxvY2sgbmVlZGVkIGhlcmU/DQo+IA0KV2UgdXNlZCBpdCB0byBwcm90ZWN0IEB0
LT50aW1lc3RhbXAgYW5kIEB0LT50aW1ldmFsLCBidXQgaXQgc2VlbXMgdGhhdA0KQHQtPnRpbWVz
dGFtcCBhbmQgQHQtPnRpbWV2YWwgd291bGQgbm90IGJlIGNoYW5nZWQgaW4gb3RoZXIgcGxhY2Uu
IFNvDQp3ZSB3b3VsZCByZW1vdmUgaXQuDQoNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIHZv
aWQgcHJvYmVfYmluZGVyX3R4bl9sYXRlbmN5X2luZm8odm9pZCAqaWdub3JlLCBzdHJ1Y3Qgc2Vx
X2ZpbGUgKm0sDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCBiaW5kZXJfdHJhbnNhY3Rpb24gKnQpDQo+ID4gK3sNCj4gPiArICAgICAgIHN0cnVjdCBy
dGNfdGltZSB0bTsNCj4gPiArDQo+ID4gKyAgICAgICBydGNfdGltZV90b190bSh0LT50di50dl9z
ZWMsICZ0bSk7DQo+ID4gKyAgICAgICBzZXFfcHJpbnRmKG0sDQo+ID4gKyAgICAgICAgICAgICAg
ICAgICIgc3RhcnQgJWx1LiUwNmx1IGFuZHJvaWQgJWQtJTAyZC0lMDJkICUwMmQ6JTAyZDolMDJk
LiUwM2x1IiwNCj4gPiArICAgICAgICAgICAgICAgICAgKHVuc2lnbmVkIGxvbmcpdC0+dGltZXN0
YW1wLnR2X3NlYywNCj4gPiArICAgICAgICAgICAgICAgICAgKHQtPnRpbWVzdGFtcC50dl9uc2Vj
IC8gTlNFQ19QRVJfVVNFQyksDQo+ID4gKyAgICAgICAgICAgICAgICAgICh0bS50bV95ZWFyICsg
MTkwMCksICh0bS50bV9tb24gKyAxKSwgdG0udG1fbWRheSwNCj4gPiArICAgICAgICAgICAgICAg
ICAgdG0udG1faG91ciwgdG0udG1fbWluLCB0bS50bV9zZWMsDQo+ID4gKyAgICAgICAgICAgICAg
ICAgICh1bnNpZ25lZCBsb25nKSh0LT50di50dl91c2VjIC8gVVNFQ19QRVJfTVNFQykpOw0KPiA+
ICt9DQo+ID4gKw0KPiA+ICtzdGF0aWMgaW50IF9faW5pdCBpbml0X2JpbmRlcl9sYXRlbmN5X3Ry
YWNlcih2b2lkKQ0KPiA+ICt7DQo+ID4gKyAgICAgICByZWdpc3Rlcl90cmFjZV9iaW5kZXJfdHhu
X2xhdGVuY3lfZnJlZSgNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBwcm9iZV9iaW5kZXJf
dHhuX2xhdGVuY3lfZnJlZSwgTlVMTCk7DQo+ID4gKyAgICAgICByZWdpc3Rlcl90cmFjZV9iaW5k
ZXJfdHhuX2xhdGVuY3lfYWxsb2MoDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcHJvYmVf
YmluZGVyX3R4bl9sYXRlbmN5X2FsbG9jLCBOVUxMKTsNCj4gPiArICAgICAgIHJlZ2lzdGVyX3Ry
YWNlX2JpbmRlcl90eG5fbGF0ZW5jeV9pbmZvKA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
IHByb2JlX2JpbmRlcl90eG5fbGF0ZW5jeV9pbmZvLCBOVUxMKTsNCj4gPiArDQo+ID4gKyAgICAg
ICByZXR1cm4gMDsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIHZvaWQgZXhpdF9iaW5kZXJf
bGF0ZW5jeV90cmFjZXIodm9pZCkNCj4gPiArew0KPiA+ICsgICAgICAgdW5yZWdpc3Rlcl90cmFj
ZV9iaW5kZXJfdHhuX2xhdGVuY3lfZnJlZSgNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBw
cm9iZV9iaW5kZXJfdHhuX2xhdGVuY3lfZnJlZSwgTlVMTCk7DQo+ID4gKyAgICAgICB1bnJlZ2lz
dGVyX3RyYWNlX2JpbmRlcl90eG5fbGF0ZW5jeV9hbGxvYygNCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICBwcm9iZV9iaW5kZXJfdHhuX2xhdGVuY3lfYWxsb2MsIE5VTEwpOw0KPiA+ICsgICAg
ICAgdW5yZWdpc3Rlcl90cmFjZV9iaW5kZXJfdHhuX2xhdGVuY3lfaW5mbygNCj4gPiArICAgICAg
ICAgICAgICAgICAgICAgICBwcm9iZV9iaW5kZXJfdHhuX2xhdGVuY3lfaW5mbywgTlVMTCk7DQo+
ID4gK30NCj4gPiArDQo+ID4gK21vZHVsZV9pbml0KGluaXRfYmluZGVyX2xhdGVuY3lfdHJhY2Vy
KTsNCj4gPiArbW9kdWxlX2V4aXQoZXhpdF9iaW5kZXJfbGF0ZW5jeV90cmFjZXIpOw0KPiA+ICsN
Cj4gPiArTU9EVUxFX0xJQ0VOU0UoIkdQTCB2MiIpOw0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2FuZHJvaWQvYmluZGVyX3RyYWNlLmggYi9kcml2ZXJzL2FuZHJvaWQvYmluZGVyX3RyYWNlLmgN
Cj4gPiBpbmRleCA4YWM4N2QxLi5jYTQxYzdkIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvYW5k
cm9pZC9iaW5kZXJfdHJhY2UuaA0KPiA+ICsrKyBiL2RyaXZlcnMvYW5kcm9pZC9iaW5kZXJfdHJh
Y2UuaA0KPiA+IEBAIC0xOCw2ICsxOCw3IEBADQo+ID4gIHN0cnVjdCBiaW5kZXJfcmVmX2RhdGE7
DQo+ID4gIHN0cnVjdCBiaW5kZXJfdGhyZWFkOw0KPiA+ICBzdHJ1Y3QgYmluZGVyX3RyYW5zYWN0
aW9uOw0KPiA+ICtzdHJ1Y3QgYmluZGVyX3RyYW5zYWN0aW9uX2xvZ19lbnRyeTsNCj4gPg0KPiA+
ICBUUkFDRV9FVkVOVChiaW5kZXJfaW9jdGwsDQo+ID4gICAgICAgICBUUF9QUk9UTyh1bnNpZ25l
ZCBpbnQgY21kLCB1bnNpZ25lZCBsb25nIGFyZyksDQo+ID4gQEAgLTk1LDYgKzk2LDE4IEBADQo+
ID4gICAgICAgICAgICAgICAgICAgX19lbnRyeS0+dGhyZWFkX3RvZG8pDQo+ID4gICk7DQo+ID4N
Cj4gPiArREVDTEFSRV9UUkFDRShiaW5kZXJfdHhuX2xhdGVuY3lfYWxsb2MsDQo+ID4gKyAgICAg
ICBUUF9QUk9UTyhzdHJ1Y3QgYmluZGVyX3RyYW5zYWN0aW9uICp0LA0KPiA+ICsgICAgICAgICAg
ICAgICAgc3RydWN0IGJpbmRlcl90cmFuc2FjdGlvbl9sb2dfZW50cnkgKmUpLA0KPiA+ICsgICAg
ICAgVFBfQVJHUyh0LCBlKQ0KPiA+ICspOw0KPiA+ICsNCj4gPiArREVDTEFSRV9UUkFDRShiaW5k
ZXJfdHhuX2xhdGVuY3lfaW5mbywNCj4gPiArICAgICAgIFRQX1BST1RPKHN0cnVjdCBzZXFfZmls
ZSAqbSwNCj4gPiArICAgICAgICAgICAgICAgIHN0cnVjdCBiaW5kZXJfdHJhbnNhY3Rpb24gKnQp
LA0KPiA+ICsgICAgICAgVFBfQVJHUyhtLCB0KQ0KPiA+ICspOw0KPiA+ICsNCj4gPiAgVFJBQ0Vf
RVZFTlQoYmluZGVyX3R4bl9sYXRlbmN5X2ZyZWUsDQo+ID4gICAgICAgICBUUF9QUk9UTyhzdHJ1
Y3QgYmluZGVyX3RyYW5zYWN0aW9uICp0KSwNCj4gPiAgICAgICAgIFRQX0FSR1ModCksDQo+ID4g
QEAgLTEwNiw2ICsxMTksOCBAQA0KPiA+ICAgICAgICAgICAgICAgICBfX2ZpZWxkKGludCwgdG9f
dGhyZWFkKQ0KPiA+ICAgICAgICAgICAgICAgICBfX2ZpZWxkKHVuc2lnbmVkIGludCwgY29kZSkN
Cj4gPiAgICAgICAgICAgICAgICAgX19maWVsZCh1bnNpZ25lZCBpbnQsIGZsYWdzKQ0KPiA+ICsg
ICAgICAgICAgICAgICBfX2ZpZWxkKHVuc2lnbmVkIGxvbmcsIHN0YXJ0X3NlYykNCj4gPiArICAg
ICAgICAgICAgICAgX19maWVsZCh1bnNpZ25lZCBsb25nLCBzdGFydF9uc2VjKQ0KPiA+ICAgICAg
ICAgKSwNCj4gPiAgICAgICAgIFRQX2Zhc3RfYXNzaWduKA0KPiA+ICAgICAgICAgICAgICAgICBf
X2VudHJ5LT5kZWJ1Z19pZCA9IHQtPmRlYnVnX2lkOw0KPiA+IEBAIC0xMTUsMTEgKzEzMCwxOCBA
QA0KPiA+ICAgICAgICAgICAgICAgICBfX2VudHJ5LT50b190aHJlYWQgPSB0LT50b190aHJlYWQg
PyB0LT50b190aHJlYWQtPnBpZCA6IDA7DQo+ID4gICAgICAgICAgICAgICAgIF9fZW50cnktPmNv
ZGUgPSB0LT5jb2RlOw0KPiA+ICAgICAgICAgICAgICAgICBfX2VudHJ5LT5mbGFncyA9IHQtPmZs
YWdzOw0KPiA+IC0gICAgICAgKSwNCj4gPiAtICAgICAgIFRQX3ByaW50aygidHJhbnNhY3Rpb249
JWQgZnJvbSAlZDolZCB0byAlZDolZCBmbGFncz0weCV4IGNvZGU9MHgleCIsDQo+ID4gKyNpZmRl
ZiBDT05GSUdfQklOREVSX1RSQU5TQUNUSU9OX0xBVEVOQ1lfVFJBQ0tJTkcNCj4gPiArICAgICAg
ICAgICAgICAgX19lbnRyeS0+c3RhcnRfc2VjID0gdC0+dGltZXN0YW1wLnR2X3NlYzsNCj4gPiAr
ICAgICAgICAgICAgICAgX19lbnRyeS0+c3RhcnRfbnNlYyA9IHQtPnRpbWVzdGFtcC50dl9uc2Vj
IC8gTlNFQ19QRVJfTVNFQzsNCj4gPiArI2Vsc2UNCj4gPiArICAgICAgICAgICAgICAgX19lbnRy
eS0+c3RhcnRfc2VjID0gMDsNCj4gPiArICAgICAgICAgICAgICAgX19lbnRyeS0+c3RhcnRfbnNl
YyA9IDA7DQo+ID4gKyNlbmRpZg0KPiA+ICsgICAgICAgKSwNCj4gPiArICAgICAgIFRQX3ByaW50
aygidHJhbnNhY3Rpb249JWQgZnJvbSAlZDolZCB0byAlZDolZCBmbGFncz0weCV4IGNvZGU9MHgl
eCBzdGFydCAlbHUuJTAzbGQiLA0KPiA+ICAgICAgICAgICAgICAgICAgIF9fZW50cnktPmRlYnVn
X2lkLCBfX2VudHJ5LT5mcm9tX3Byb2MsIF9fZW50cnktPmZyb21fdGhyZWFkLA0KPiA+ICAgICAg
ICAgICAgICAgICAgIF9fZW50cnktPnRvX3Byb2MsIF9fZW50cnktPnRvX3RocmVhZCwgX19lbnRy
eS0+Y29kZSwNCj4gPiAtICAgICAgICAgICAgICAgICBfX2VudHJ5LT5mbGFncykNCj4gPiArICAg
ICAgICAgICAgICAgICBfX2VudHJ5LT5mbGFncywgX19lbnRyeS0+c3RhcnRfc2VjLCBfX2VudHJ5
LT5zdGFydF9uc2VjKQ0KPiA+ICApOw0KPiA+DQo+ID4gIFRSQUNFX0VWRU5UKGJpbmRlcl90cmFu
c2FjdGlvbiwNCj4gPiAtLQ0KPiA+IDEuNy45LjUNCg0K

